(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00c5":function(t,e,n){},"032c":function(t,e,n){},"09e0":function(t,e,n){},"12e4":function(t,e,n){},1368:function(t,e,n){},"1b6a":function(t,e,n){"use strict";var a=n("bc3a"),r=n.n(a),s=n("852e"),i=n.n(s),o=n("ed18"),c=n.n(o);c.a.config(),console.log(Object({NODE_ENV:"production",VUE_APP_ROOT_URL:"http://localhost:8000/api/",BASE_URL:"/"}));var l=r.a.create({baseURL:"http://localhost:8000/api/",headers:{"Content-type":"application/json","CSRF-Token":i.a.get("XSRF-TOKEN")}});e["a"]=l},"1dcc":function(t,e,n){"use strict";n("beef")},"2a74":function(t,e,n){"use strict";n.r(e);n("d3b7"),n("159b"),n("ddb0"),n("ac1f"),n("5319");var a=n("bba4"),r=n.n(a),s=n("d307"),i={};s.keys().forEach((function(t){if("./index.js"!==t&&"./dummy.js"!==t){var e=s(t),n=r()(t.replace(/(\.\/|\.js)/g,""));i[n]=e.default||e}})),e["default"]=i},"2b56":function(t,e,n){"use strict";n("09e0")},"325b":function(t,e,n){"use strict";n("844a")},"34b8":function(t,e,n){"use strict";n.r(e);var a=n("1da1"),r=n("5530"),s=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("1b6a")),i=n("e71f"),o=n("b79f");e["default"]={state:{notes:[],sharedUsers:[],noteCategories:[],notesInitialized:!1},getters:{sharedUsers:function(t){return t.sharedUsers},notes:function(t){return t.notes},noteCategories:function(t){return t.noteCategories},notesInitialized:function(t){return t.notesInitialized}},mutations:{setNotes:function(t,e){t.notes=e},setSharedUsers:function(t,e){t.sharedUsers=e},setNoteCategories:function(t,e){t.noteCategories=e},initNotesCompleted:function(t){t.notesInitialized=!0},resetNotes:function(t){t.notesInitialized=!1,t.sharedUsers=[],t.notes=[],t.noteCategories=[]},updateNoteSharedUsers:function(t,e,n){t.notes=notes.map((function(t){return t.noteId===e?Object(r["a"])(Object(r["a"])({},t),{},{sharedUsers:n}):t}))}},actions:{initNoteState:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,r,i,o,c,l,u,d,m,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.rootGetters,r=t.state,r.notesInitialized=!1,e.prev=2,e.next=5,a.rootIdToken;case 5:return i=e.sent,o={headers:{authorization:"Bearer ".concat(i)}},e.next=9,s["a"].get("user/get-note-providers/",o);case 9:return c=e.sent,l=c.data,e.next=13,s["a"].get("note/get-user-notes/",o);case 13:return u=e.sent,d=u.data,e.next=17,s["a"].get("note//get-all-categories",o);case 17:m=e.sent,v=m.data,console.log(d),n("setNotes",d),n("setSharedUsers",l),n("setNoteCategories",v),e.next=27;break;case 25:e.prev=25,e.t0=e["catch"](2);case 27:n("initNotesCompleted");case 28:case"end":return e.stop()}}),e,null,[[2,25]])})))()},createNoteByUser:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,c,l,u,d,m,v,f,p,h,g;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,c=t.state,l=e.noteTitle,e.userId,e.accessStatus,u=e.categories,n.next=4,a.rootIdToken;case 4:return d=n.sent,m={headers:{authorization:"Bearer ".concat(d)}},n.prev=6,v=Object(i["b"])(o["b"],"notes"),n.next=10,Object(i["a"])(v,{data:{},accessingUsers:[],chats:[]});case 10:return f=n.sent,console.log(f.id),p={noteTitle:l,dataId:f.id,categories:u},n.next=15,s["a"].post("note/insert-note",p,m);case 15:h=n.sent,g=a.rootUser,c.notes.push(Object(r["a"])(Object(r["a"])({},h.data),{},{owner:Object(r["a"])(Object(r["a"])({},g),{},{firstName:g.firstname,lastName:g.lastname}),sharedUsers:[]})),n.next=23;break;case 20:n.prev=20,n.t0=n["catch"](6),console.log(n.t0);case 23:case"end":return n.stop()}}),n,null,[[6,20]])})))()},editNoteTitleById:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,i,o,c,l,u,d,m,v;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.state,i=t.rootGetters,o=e.noteId,c=e.newNoteTitle,console.log(o,c),n.next=5,i.rootIdToken;case 5:return l=n.sent,u={headers:{authorization:"Bearer ".concat(l)}},d={noteTitle:c,noteId:o},n.next=10,s["a"].post("note/update-note/",d,u);case 10:m=n.sent,v=m.data,a.notes=a.notes.map((function(t){return t.noteId===v.noteId?Object(r["a"])(Object(r["a"])({},t),{},{noteTitle:v.noteTitle}):t}));case 13:case"end":return n.stop()}}),n)})))()},deleteNoteAccessById:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,r=t.state,i=e.noteId,o=e.newOwnerId,n.next=4,a.rootIdToken;case 4:return c=n.sent,l={headers:{authorization:"Bearer ".concat(c)}},u={noteId:i},null!=o&&(u.newOwnerId=o),n.next=10,s["a"].post("note/transfer-note-ownership/",u,l);case 10:r.notes=r.notes.filter((function(t){return t.noteId!=i}));case 11:case"end":return n.stop()}}),n)})))()},deleteSharedUserById:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,r=e.noteId,i=e.userId,n.next=4,a.rootIdToken;case 4:return o=n.sent,c={headers:{authorization:"Bearer ".concat(o)}},n.next=8,s["a"].post("note/alter-note-access/",{noteId:r,userId:i,command:"DELETE"},c);case 8:case"end":return n.stop()}}),n)})))()},changeNoteAccessStatus:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,r=e.noteId,i=e.userId,o=e.accessStatus,n.next=4,a.rootIdToken;case 4:return c=n.sent,l={headers:{authorization:"Bearer ".concat(c)}},n.next=8,s["a"].post("note/alter-note-access/",{noteId:r,userId:i,accessStatus:o,command:"UPDATE"},l);case 8:case"end":return n.stop()}}),n)})))()},shareNoteByUserId:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,r=e.noteId,i=e.userIds,n.next=4,a.rootIdToken;case 4:return o=n.sent,c={headers:{authorization:"Bearer ".concat(o)}},n.next=8,s["a"].post("note/alter-note-access/",{noteId:r,userIds:i,command:"INSERT"},c);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),n)})))()}}}},"3f80":function(t,e,n){"use strict";n.r(e);var a=n("1da1"),r=(n("d81d"),n("96cf"),n("1b6a"));e["default"]={state:{communityNotes:[],topRankingNotes:[]},getters:{communityNotes:function(t){return t.communityNotes},topRankingNotes:function(t){return t.topRankingNotes}},mutations:{setCommunityNotes:function(t,e){t.communityNotes=e},resetCommunityNotes:function(t){return t.communityNotes=[]}},actions:{initCommunityNotes:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,s,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,s=t.rootGetters,n.next=3,s.rootIdToken;case 3:return i=n.sent,o={headers:{authorization:"Bearer ".concat(i)}},n.next=7,r["a"].post("note/get-notes-by-communityId",{communityId:e},o);case 7:c=n.sent,a("setCommunityNotes",c.data);case 9:case"end":return n.stop()}}),n)})))()},importNotesByNoteId:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,s,i,o,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,s=e.communityId,i=e.notes,n.next=4,a.rootIdToken;case 4:return o=n.sent,c={headers:{authorization:"Bearer ".concat(o)}},l={communityId:s,noteIds:i.map((function(t){return t.noteId}))},n.next=9,r["a"].post("community/add-note-to-community",l,c);case 9:case"end":return n.stop()}}),n)})))()},removeNoteFromCommunityById:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.commit,t.rootGetters,console.log("I love you");case 2:case"end":return e.stop()}}),e)})))()},incrementLikeByNoteId:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,s,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,s=t.state,n.next=3,a.rootIdToken;case 3:return i=n.sent,o={headers:{authorization:"Bearer ".concat(i)}},n.next=7,r["a"].get("note/".concat(e,"/like-note"),o);case 7:s.communityNotes=s.communityNotes.map((function(t){return t.noteId===e&&t.likeCount++,t})),s.topRankingNotes=s.topRankingNotes.map((function(t){return t.noteId===e&&t.likeCount++,t}));case 9:case"end":return n.stop()}}),n)})))()},getTopRankingNotes:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,s,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,s=t.state,n.next=3,a.rootIdToken;case 3:return i=n.sent,o={headers:{authorization:"Bearer ".concat(i)}},n.next=7,r["a"].post("community/get-top-10-notes/",{communityId:e},o);case 7:c=n.sent,console.log(c.data),s.topRankingNotes=c.data;case 10:case"end":return n.stop()}}),n)})))()}}}},"47d1":function(t,e,n){"use strict";n.r(e);var a=n("5530"),r=n("1da1"),s=(n("d81d"),n("b0c0"),n("a4d3"),n("e01a"),n("99af"),n("4de4"),n("d3b7"),n("96cf"),n("1b6a")),i=n("588e"),o=n("b79f");e["default"]={state:{communities:[],communitiesInitialized:!1,communityMembers:[]},getters:{communities:function(t){return t.communities},communitiesInitialized:function(t){return t.communitiesInitialized},communityMembers:function(t){return t.communityMembers}},mutations:{setCommunities:function(t,e){t.communities=e},initCommunitiesCompleted:function(t){t.communitiesInitialized=!0},resetCommunities:function(t){t.communities=[],t.communitiesInitialized=!1,t.communityMembers=[]},setCommunityMembers:function(t,e){t.communityMembers=e}},actions:{initCommunityState:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,r,i,o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,a=t.rootGetters,r=t.state,r.communitiesInitialized=!1,e.prev=2,e.next=5,a.rootIdToken;case 5:return i=e.sent,o={headers:{authorization:"Bearer ".concat(i)}},e.next=9,s["a"].get("community/get-all-communities/",o);case 9:c=e.sent,l=c.data,n("setCommunities",l),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](2),console.log(e.t0.message);case 17:n("initCommunitiesCompleted");case 18:case"end":return e.stop()}}),e,null,[[2,14]])})))()},initCommunityMembers:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,r=t.rootGetters,n.next=3,r.rootIdToken;case 3:return i=n.sent,o={headers:{authorization:"Bearer ".concat(i)}},n.next=7,s["a"].post("community/get-members-by-community-id",{communityId:e},o);case 7:c=n.sent,a("setCommunityMembers",c.data),console.log(c.data);case 10:case"end":return n.stop()}}),n)})))()},getCommunityById:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,n.next=3,a.rootIdToken;case 3:return r=n.sent,i={headers:{authorization:"Bearer ".concat(r)}},n.next=7,s["a"].post("community/get-community-by-community-id",{communityId:e},i);case 7:return o=n.sent,n.abrupt("return",o.data);case 9:case"end":return n.stop()}}),n)})))()},shareCommunityToUserById:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o,c,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,r=e.communityId,i=e.userIds,n.next=4,a.rootIdToken;case 4:return o=n.sent,c={headers:{authorization:"Bearer ".concat(o)}},l=i.map((function(t){return{communityId:r,userId:t,role:"member"}})),n.next=9,s["a"].post("community/insert-membership/",l,c);case 9:case"end":return n.stop()}}),n)})))()},createCommunityByUser:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){var c,l,u,d,m,v,f,p,h,g,b,x;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return c=t.rootGetters,l=t.state,u=e.name,d=e.description,m=e.photoFile,n.next=4,c.rootIdToken;case 4:v=n.sent,f=c.rootUser,p={headers:{authorization:"Bearer ".concat(v)}},h=Object(o["c"])(o["d"]),g="".concat(Math.floor(Date.now()/1e3),"-").concat(m.name),b=Object(o["c"])(h,"community_photos/".concat(g)),x=Object(i["d"])(b,m),x.on("state_changed",(function(t){var e=t.bytesTransferred/t.totalBytes*100;console.log(e)}),(function(t){console.log(t)}),Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["a"])(x.snapshot.ref);case 2:return e=t.sent,n={name:u,description:d,photo:e},t.next=6,s["a"].post("community/insert-community",n,p);case 6:r=t.sent,l.communities.push(Object(a["a"])(Object(a["a"])({},r.data),{},{owner:{userId:f.userId,firstName:f.firstname,lastName:f.lastname,subtitle:f.subtitle,email:f.email,avatarUrl:f.avatarUrl}}));case 8:case"end":return t.stop()}}),t)}))));case 12:case"end":return n.stop()}}),n)})))()},leaveCommunityById:function(t,e){return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,r,i,o,c,l,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.commit,a=t.state,r=t.rootGetters,i=e.communityId,o=e.userId,n.next=4,r.rootIdToken;case 4:return c=n.sent,l={headers:{authorization:"Bearer ".concat(c)}},u={communityId:i,userId:o},n.next=9,s["a"].post("community/delete-membership/",u,l);case 9:a.communities=a.communities.filter((function(t){return t.communityId!==i}));case 10:case"end":return n.stop()}}),n)})))()}}}},"4add":function(t,e,n){"use strict";n("f91f")},"56d7":function(t,e,n){"use strict";n.r(e);var a=n("1da1"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("96cf"),n("2b0e")),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n(t.navbarName,{tag:"component"}),n("v-main",{staticClass:"mx-0 mb-0 background"},[n("router-view")],1),n("v-snackbar",{attrs:{timeout:3e3,"min-height":"60","multi-line":""},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{outlined:"",color:t.snackbarColor},on:{click:function(e){return t.setSnackbarShow(!1)}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarShow,callback:function(e){t.snackbarShow=e},expression:"snackbarShow"}},[t._v(" "+t._s(t.snackbarMessage)+" ")])],1)},i=[],o=n("5530"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-app-bar",{staticClass:"white--text",attrs:{app:"",color:"appbar",height:50}},[n("v-icon",{directives:[{name:"show",rawName:"v-show",value:!t.$vuetify.breakpoint.xs,expression:"!$vuetify.breakpoint.xs"}],staticClass:"white--text",attrs:{size:28},on:{click:function(e){t.showDrawer=!t.showDrawer}}},[t._v("menu")]),n("v-spacer"),n("v-btn",{staticClass:"ma-1 mr-0",attrs:{text:"",icon:"",color:"white"},on:{click:t.syncData}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"white--text font-weight-bold",attrs:{size:20}},"v-icon",r,!1),a),[t._v("sync")])]}}])},[n("span",[t._v("Sync Data")])])],1),n("v-btn",{staticClass:"ma-2 ml-0",attrs:{text:"",icon:"",color:"white"},on:{click:t.toggleTheme}},["dark"!==t.theme?n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"white--text mx-2",attrs:{size:20}},"v-icon",r,!1),a),[t._v("brightness_medium")])]}}],null,!1,2557369445)},[n("span",[t._v("dark mode")])]):n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"white--text mx-2",attrs:{size:20}},"v-icon",r,!1),a),[t._v(" brightness_high ")])]}}])},[n("span",[t._v("light mode")])])],1),t.user?n("v-menu",{attrs:{bottom:"","min-width":"200px",rounded:"","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[n("v-btn",t._g({attrs:{icon:"","x-large":""}},a),[n("UserAvatar",{attrs:{firstname:t.user.firstname,lastname:t.user.lastname,avatarUrl:t.user.avatarUrl,size:36}})],1)]}}],null,!1,4030320195)},[n("v-expand-transition",[n("v-card",[n("div",{staticClass:"justify-center pt-4"},[n("div",{staticClass:"mx-auto text-center"},[n("UserAvatar",{attrs:{firstname:t.user.firstname,lastname:t.user.lastname,avatarUrl:t.user.avatarUrl,size:45}}),n("h3",{staticClass:"mt-3 info--text"},[t._v(t._s(t.user.firstname+" "+t.user.lastname))]),n("p",{staticClass:"text-caption mt-1"},[t._v(" "+t._s(t.user.email)+" ")]),n("v-divider"),n("v-btn",{attrs:{text:"",width:"100%"},on:{click:t.logoutUser}},[n("v-icon",{attrs:{left:""}},[t._v("exit_to_app")]),t._v(" Logout ")],1)],1)])])],1)],1):n("v-btn",{attrs:{outlined:"",color:"primary",rounded:"",small:""},on:{click:t.authenticateUser}},[t._v(" Login ")])],1),t.$vuetify.breakpoint.xs?t._e():n("v-navigation-drawer",{staticClass:"navigation-drawer",attrs:{color:"drawer",app:"",floating:"",dark:"",width:"220"},model:{value:t.showDrawer,callback:function(e){t.showDrawer=e},expression:"showDrawer"}},[n("div",{staticClass:"d-flex flex-column justify-center align-center py-3"},[n("div",{staticClass:"d-flex flex-row align-center"},[n("v-img",{staticClass:"white--text align-end",attrs:{src:"../assets/notehub.jpg",height:"36px",width:"36px"}}),n("h3",{staticClass:"ml-3 brand-name"},[t._v(" NoteHub ")])],1)]),n("v-divider"),t.user?n("v-list",{staticClass:"py-0",attrs:{"three-line":""}},[n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.user.firstname+" "+t.user.lastname))]),n("v-list-item-subtitle",[t._v(t._s(t.user.subtitle))])],1)],1)],1):t._e(),n("v-divider"),n("v-list",t._l(t.links,(function(e){return n("v-list-item",{key:e.text,style:{borderLeft:t.borderLeft(e.name)},attrs:{router:"",to:{name:e.name},exact:""}},[n("v-list-item-icon",{staticClass:"mr-6"},[n("v-icon",{attrs:{color:e.name===t.$route.name?"primary":"white"}},[t._v(t._s(e.icon))])],1),n("v-list-item-content",[n("v-list-item-title",{class:{"primary--text font-weight-bold":e.name===t.$route.name}},[t._v(t._s(e.text))])],1)],1)})),1)],1),t.$vuetify.breakpoint.xs?n("v-bottom-navigation",{attrs:{value:t.value,color:"primary",grow:"",app:""}},t._l(t.links,(function(e){return n("v-btn",{key:e.text+"-bottom-nav",on:{click:function(n){return t.$router.push({name:e.name})}}},[n("span",[t._v(t._s(e.text))]),n("v-icon",[t._v(t._s(e.icon))])],1)})),1):t._e()],1)},l=[],u=(n("b0c0"),n("d3b7"),n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-avatar",{staticClass:"darken-1",attrs:{color:t.getRandomColor(),size:t.size}},[t.avatarUrl&&"null"!==t.avatarUrl&&"undefined"!==t.avatarUrl?n("v-img",{attrs:{src:t.avatarUrl}}):n("h4",{staticClass:"white--text font-weight-medium text-h6"},[t._v(t._s(t.initial))])],1)}),d=[];n("a9e3"),n("99af");function m(t){var e=new Date(parseInt(t)),n=new Date(Math.round(Date.now())),a=n.getYear()-e.getYear(),r=n.getMonth()-e.getMonth(),s=n.getDay()-e.getDay(),i=n.getHours()-e.getHours(),o=n.getMinutes()-e.getMinutes(),c=n.getSeconds()-e.getSeconds();return a&&0!==a?"".concat(a," years ago"):r&&0!==r?"".concat(r," months ago"):s&&0!==s?"".concat(s," days ago"):i&&0!==i?"".concat(i," hours ago"):o&&0!==o?"".concat(o," minutes ago"):"".concat(c," seconds ago")}function v(){var t=["#feca57","#fa983a","#38ada9","#2e86de","#ee5253","#2ed573","#FDA7DF","#26c6da"];return t[Math.floor(Math.random()*t.length)]}var f={name:"UserAvatar",props:{firstname:{type:String,required:!0},lastname:{type:String},size:{type:Number,required:!0},avatarUrl:{type:String}},computed:{fullname:function(){return"".concat(this.firstname," ").concat(this.lastname)},initial:function(){return this.firstname[0].toUpperCase()}},methods:{getRandomColor:v}},p=f,h=n("2877"),g=n("6544"),b=n.n(g),x=n("8212"),y=n("adda"),w=Object(h["a"])(p,u,d,!1,null,null,null),k=w.exports;b()(w,{VAvatar:x["a"],VImg:y["a"]});var C=n("2f62"),_={name:"NavigationBar",components:{UserAvatar:k},data:function(){return{showDrawer:!1,links:[{icon:"home",text:"Home",name:"home"},{icon:"dashboard",text:"Dashboard",name:"dashboard"},{icon:"groups",text:"Community",name:"communities"},{icon:"person",text:"My Profile",name:"profile"},{icon:"mdi-medal",text:"Pupular User",name:"ranking"}]}},methods:Object(o["a"])(Object(o["a"])({},Object(C["b"])(["logout","initCommunityState","initNoteState","rootStateReset"])),{},{logoutUser:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.logout({router:t.$router,route:t.$route});case 2:t.rootStateReset(),console.log("Logout...");case 4:case"end":return e.stop()}}),e)})))()},authenticateUser:function(){this.$router.push({name:"auth"})},toggleTheme:function(){var t=this.$vuetify.theme.dark;this.$vuetify.theme.dark=!t,this.$store.commit("toggleTheme"),localStorage.setItem("darkTheme",!t),console.log(this.$route)},borderLeft:function(t){return t===this.$route.name?"4px solid ".concat(this.$vuetify.theme.dark?"#2ed573":"#1e90ff"):"none"},syncData:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.initCommunityState(),t.initNoteState(),console.log("Syncing Data...");case 3:case"end":return e.stop()}}),e)})))()}}),computed:{user:function(){return this.$store.state.auth.currentUser},theme:function(){return this.$vuetify.theme.dark?"dark":"light"},value:function(){var t=this,e=0;return this.links.forEach((function(n,a){n.name===t.$route.name&&(e=a)})),e}},mounted:function(){var t=localStorage.getItem("darkTheme");t&&(this.$vuetify.theme.dark="true"===t)}},I=_,N=(n("325b"),n("40dc")),j=n("b81c"),O=n("8336"),V=n("b0af"),S=n("ce7e"),U=n("0789"),T=n("132d"),R=n("8860"),A=n("da13"),L=n("5d23"),D=n("34c3"),$=n("e449"),z=n("f774"),B=n("2fa4"),M=n("3a2f"),E=Object(h["a"])(I,c,l,!1,null,null,null),F=E.exports;b()(E,{VAppBar:N["a"],VBottomNavigation:j["a"],VBtn:O["a"],VCard:V["a"],VDivider:S["a"],VExpandTransition:U["a"],VIcon:T["a"],VImg:y["a"],VList:R["a"],VListItem:A["a"],VListItemContent:L["a"],VListItemIcon:D["a"],VListItemSubtitle:L["b"],VListItemTitle:L["c"],VMenu:$["a"],VNavigationDrawer:z["a"],VSpacer:B["a"],VTooltip:M["a"]});var P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$vuetify.breakpoint.xs?t._e():n("v-navigation-drawer",{attrs:{color:"drawer",dark:"",app:"",permanent:"","mini-variant":!0,"mini-variant-width":"65"}},[n("v-list-item",{staticClass:"py-3"},[n("UserAvatar",{staticClass:"text-h6",attrs:{size:44,firstname:t.currentUser.firstname,lastname:t.currentUser.lastname,avatarUrl:t.currentUser.avatarUrl}})],1),n("div",{staticClass:"border"}),n("v-row",{staticClass:"flex-column left-drawer-height",attrs:{justify:"space-between"}},[n("v-list",{staticClass:"mt-4"},t._l(t.actions,(function(e){return n("v-list-item",{key:e.title,staticClass:"py-2"},[n("v-tooltip",{attrs:{right:"",transition:"all 0.3s",color:"info"},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,s=a.attrs;return[n("v-btn",t._g(t._b({staticClass:"action-button",attrs:{outlined:"",fab:"",elevation:"5",color:e.color},on:{click:e.click}},"v-btn",s,!1),r),[n("v-icon",{attrs:{size:20}},[t._v(t._s(e.icon))])],1)]}}],null,!0)},[n("span",[t._v(t._s(e.title))])])],1)})),1),n("v-list",{staticClass:"py-0"},[n("div",{staticClass:"border"}),t._l(t.settings,(function(e){return n("v-list-item",{key:e.title,staticClass:"py-2"},[n("v-tooltip",{attrs:{right:"",transition:"all 0.3s",color:"info"},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,s=a.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:""},on:{click:function(t){return e.click()}}},"v-btn",s,!1),r),[n("v-icon",{attrs:{size:"27"}},[t._v(t._s(e.icon))])],1)]}}],null,!0)},[n("span",[t._v(t._s(e.title))])])],1)}))],2)],1)],1),n("v-navigation-drawer",{attrs:{stateless:"",color:"drawer",value:!t.$vuetify.breakpoint.smAndDown,dark:"",app:"",right:""}},[n("v-list-item",[n("v-list-item-content",{staticClass:"ma-1"},[n("v-list-item-title",{staticClass:"d-flex font-weight-medium justify-center"},[n("v-icon",{attrs:{left:"",size:"18"}},[t._v("people_alt")]),t._v(" Community Members ")],1)],1)],1),n("v-divider"),n("div",{staticClass:"pa-2"},[n("v-text-field",{attrs:{solo:"",dense:"","hide-details":"","background-color":"appbar","append-icon":"search",placeholder:"search members"},model:{value:t.searchMemberKeyword,callback:function(e){t.searchMemberKeyword=e},expression:"searchMemberKeyword"}})],1),n("v-divider"),0!==t.communityMembers.length?n("MemberList",{attrs:{communityMembers:t.filteredMembers}}):t._e()],1),n("v-dialog",{attrs:{width:"800"},model:{value:t.importNoteDialog,callback:function(e){t.importNoteDialog=e},expression:"importNoteDialog"}},[n("v-card",{attrs:{loading:t.importLoading}},[n("v-card-title",{staticClass:"py-2 px-3 info--text"},[n("v-icon",{attrs:{left:"",color:"primary"}},[t._v("file_upload")]),t._v(" Import Notebook ")],1),n("v-divider"),n("v-card",{staticClass:"ma-3"},[n("NoteTable",{attrs:{selectedNotes:t.selectedNotes},on:{"update:selectedNotes":function(e){t.selectedNotes=e},"update:selected-notes":function(e){t.selectedNotes=e},"select-note":function(e){return t.selectedNotes=e}}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"error",text:"",disabled:t.importLoading},on:{click:function(e){t.importNoteDialog=!1}}},[t._v(" Cancel ")]),n("v-btn",{attrs:{color:"primary",text:"",loading:t.importLoading,disabled:0===t.selectedNotes.length},on:{click:function(e){return t.importNotebooks()}}},[t._v(" Import ")])],1)],1)],1),n("v-dialog",{attrs:{width:"800"},model:{value:t.inviteDialog,callback:function(e){t.inviteDialog=e},expression:"inviteDialog"}},[n("v-card",{attrs:{loading:t.inviteLoading}},[n("v-card-title",{staticClass:"py-2 px-3 info--text"},[n("v-icon",{attrs:{left:"",color:"primary"}},[t._v("group_add")]),t._v(" Invite New Member ")],1),n("v-divider"),n("v-card-actions",{staticClass:"mt-3"},[n("UserSearchField",{attrs:{searchResult:t.searchResult,selectedUsers:t.selectedUsers,loading:t.inviteLoading},on:{"change-selected-users":function(e){return t.selectedUsers=e},"search-complete":function(e){return t.searchResult=e.concat(t.searchResult)}}})],1),n("v-card-actions",[n("v-btn",{attrs:{elevation:"1",block:"",color:"primary",large:""},on:{click:function(e){return t.shareCommunityToUser()}}},[n("v-icon",{attrs:{left:""}},[t._v("share")]),t._v(" Share ")],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"error",text:"",disabled:t.inviteLoading},on:{click:function(e){t.inviteDialog=!1}}},[t._v(" Cancel ")])],1)],1)],1)],1)},q=[],W=(n("4de4"),n("caad"),n("2532"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{attrs:{"two-line":"",dense:""}},t._l(t.communityMembers,(function(e,a){return n("div",{key:e.role},[n("v-subheader",{staticClass:"ml-2"},[n("v-icon",{attrs:{left:"",size:"20"}},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.role)+" ")],1),t._l(e.users,(function(e,r){return n("div",{key:e.name+"-"+a+"-"+r},[n("v-list-group",{scopedSlots:t._u([{key:"activator",fn:function(){return[n("UserAvatar",{staticClass:"mr-3",attrs:{firstname:"Brian",lastname:"Yin",size:35}}),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.firstName+" "+e.lastName))]),n("v-list-item-subtitle",[t._v(t._s(e.subtitle))])],1)]},proxy:!0},{key:"appendIcon",fn:function(){return[n("v-icon",[t._v("expand_more")])]},proxy:!0}],null,!0)},[n("v-list-item",[n("v-list-item-content",[n("v-card",{staticClass:"appbar rounded-0"},[n("v-card-text",{staticClass:"subtitle px-3 py-2 pb-0 white--text"},[t._v("User Information ")]),n("v-card-text",{staticClass:"px-3 pt-3"},[n("v-list-item-subtitle",{staticClass:"mb-2 d-flex three-lines align-start"},[n("v-icon",{attrs:{left:"",small:""}},[t._v("email")]),t._v(" "+t._s(e.email)+" ")],1),n("v-list-item-subtitle",{staticClass:"d-flex three-lines align-start"},[n("v-icon",{attrs:{left:"",small:""}},[t._v("work")]),t._v(" "+t._s(e.subtitle)+" ")],1)],1)],1)],1)],1)],1),n("v-divider",{staticClass:"ml-15"})],1)}))],2)})),0)}),G=[],H={name:"MemberList",components:{UserAvatar:k},props:{communityMembers:{type:Array,required:!0}}},Y=H,K=n("99d9"),J=n("56b0"),X=n("e0c7"),Q=Object(h["a"])(Y,W,G,!1,null,null,null),Z=Q.exports;b()(Q,{VCard:V["a"],VCardText:K["c"],VDivider:S["a"],VIcon:T["a"],VList:R["a"],VListGroup:J["a"],VListItem:A["a"],VListItemContent:L["a"],VListItemSubtitle:L["b"],VListItemTitle:L["c"],VSubheader:X["a"]});var tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-text-field",{staticClass:"pa-3",attrs:{dense:"",outlined:"",label:"Search","append-icon":"search","hide-details":""},model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}}),n("v-data-table",{staticClass:"card",attrs:{value:t.selectedNotes,headers:t.headers,items:t.ownedNotes,"item-key":"noteId","show-select":"",search:t.searchContent},on:{input:function(e){return t.changeSelectedNotes(e)}},scopedSlots:t._u([{key:"item.createdAt",fn:function(e){var n=e.item;return[t._v(" "+t._s(t.unixTimeToDate(n.createdAt))+" ")]}}])})],1)},et=[],nt={props:{selectedNotes:{type:Array,required:!0}},data:function(){return{searchContent:"",headers:[{text:"Title",align:"start",sortable:!1,value:"noteTitle"},{text:"Created At",align:"center",value:"createdAt"},{text:"likeCount",align:"center",value:"likeCount"},{text:"viewCount",align:"center",value:"viewCount"},{text:"commentCount",align:"center",value:"commentCount"}]}},computed:Object(o["a"])(Object(o["a"])({},Object(C["c"])(["notes","notesInitialized","currentUser","communityNotes"])),{},{ownedNotes:function(){var t=this;return this.notes.filter((function(e){return e.ownerId===t.currentUser.userId})).filter((function(e){return!t.imported(e)}))}}),methods:Object(o["a"])(Object(o["a"])({},Object(C["b"])(["initNoteState"])),{},{unixTimeToDate:m,changeSelectedNotes:function(t){this.$emit("select-note",t)},imported:function(t){return this.communityNotes.some((function(e){return e.noteId===t.noteId}))}}),created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.notesInitialized){e.next=3;break}return e.next=3,t.initNoteState();case 3:console.log(t.currentUser);case 4:case"end":return e.stop()}}),e)})))()}},at=nt,rt=n("8fea"),st=n("8654"),it=Object(h["a"])(at,tt,et,!1,null,null,null),ot=it.exports;b()(it,{VDataTable:rt["a"],VTextField:st["a"]});var ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-autocomplete",{attrs:{"item-text":"searchFields","item-value":"userId",outlined:"",value:t.selectedUsers,items:t.searchResult,label:"Email / Name",multiple:"",placeholder:"Type email or name for that person",disabled:t.loading,"hide-details":"","search-input":t.search},on:{input:function(e){return t.changeSelectedUsers(e)},"update:searchInput":function(e){t.search=e},"update:search-input":[function(e){t.search=e},function(e){return t.updateSearchInput(e)}]},scopedSlots:t._u([{key:"selection",fn:function(e){return[n("v-chip",t._b({attrs:{"input-value":e.selected,close:""},on:{click:e.select,"click:close":function(n){return t.removeUser(e.item)}}},"v-chip",e.attrs,!1),[n("v-avatar",{attrs:{left:""}},[n("UserAvatar",{attrs:{avatarUrl:e.item.avatarUrl,firstname:e.item.name,size:20}})],1),t._v(" "+t._s(e.item.name)+" ")],1)]}},{key:"item",fn:function(e){return[[n("v-list-item-avatar",[n("UserAvatar",{attrs:{avatarUrl:e.item.avatarUrl,firstname:e.item.name,size:40}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.item.name)+" ")]),n("v-list-item-subtitle",[t._v(t._s(e.item.email))])],1)]]}}])})},lt=[],ut=n("2909"),dt=(n("a434"),n("d81d"),n("b047")),mt=n.n(dt),vt={name:"UserSearchField",components:{UserAvatar:k},props:{loading:{type:Boolean,default:!1},searchResult:{type:Array,default:function(){return[]}},selectedUsers:{type:Array,default:function(){return[]}}},data:function(){return{search:"",searching:!1}},methods:Object(o["a"])(Object(o["a"])({},Object(C["b"])(["searchUserByKeyword"])),{},{changeSelectedUsers:function(t){this.$emit("change-selected-users",t)},removeUser:function(t){var e=this.selectedUsers.indexOf(t.userId),n=Object(ut["a"])(this.selectedUsers);n.splice(e,1),e>=0&&this.changeSelectedUsers(n)},updateSearchInput:function(t){this.searching=!0,this.searchUsers(t)},searchUsers:mt()(function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.searching=!1,!(e&&e.length>0)){t.next=7;break}return t.next=4,this.searchUserByKeyword(e);case 4:n=t.sent,console.log(n),this.$emit("search-complete",n.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{searchFields:[t.email,t.name]})})));case 7:return t.abrupt("return",[]);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),600)})},ft=vt,pt=n("c6a6"),ht=n("cc20"),gt=n("8270"),bt=Object(h["a"])(ft,ct,lt,!1,null,null,null),xt=bt.exports;b()(bt,{VAutocomplete:pt["a"],VAvatar:x["a"],VChip:ht["a"],VListItemAvatar:gt["a"],VListItemContent:L["a"],VListItemSubtitle:L["b"],VListItemTitle:L["c"]});var yt=n("2ef0"),wt=n.n(yt),kt={name:"CommunityBar",components:{MemberList:Z,UserAvatar:k,NoteTable:ot,UserSearchField:xt},data:function(){return{community:null,actions:[{title:"Import",icon:"file_upload",color:"#1dd1a1",click:this.openImportNoteDialog},{title:"Invite",icon:"group_add",color:"#ff9f43",click:this.openInviteDialog}],settings:[{title:"Back to Dashboard",icon:"dashboard",click:this.enterDashboard},{title:"Logout",icon:"exit_to_app",click:this.logoutUser},{title:"Settings",icon:"settings",click:this.logoutUser}],mini:!0,importNoteDialog:!1,inviteDialog:!1,selectedNotes:[],importLoading:!1,inviteLoading:!1,selectedUsers:[],searchResult:[],searchMemberKeyword:""}},watch:{isUpdating:function(t){var e=this;t&&setTimeout((function(){return e.isUpdating=!1}),3e3)}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(C["b"])(["logout","importNotesByNoteId","initCommunityNotes","shareCommunityToUserById","getCommunityById","initCommunityMembers"])),Object(C["d"])(["snackbarSuccess","snackbarError"])),{},{logoutUser:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.logout({router:t.$router,route:t.$route});case 2:console.log("Logout...");case 3:case"end":return e.stop()}}),e)})))()},enterDashboard:function(){this.$router.push({name:"dashboard"})},authenticateUser:function(){this.$router.push({name:"auth"})},openImportNoteDialog:function(){this.importNoteDialog=!0},openInviteDialog:function(){this.inviteDialog=!0},importNotebooks:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.params.id,t.importLoading=!0,e.prev=2,e.next=5,t.importNotesByNoteId({communityId:n,notes:t.selectedNotes});case 5:return e.next=7,t.initCommunityNotes(n);case 7:t.selectedNotes=[],setTimeout((function(){t.importLoading=!1,t.importNoteDialog=!1,t.snackbarSuccess("Notes imported successfully")}),500),e.next=17;break;case 11:e.prev=11,e.t0=e["catch"](2),console.log(e.t0.message),t.importLoading=!1,t.importNoteDialog=!1,t.snackbarError("Error importing notes");case 17:case"end":return e.stop()}}),e,null,[[2,11]])})))()},shareCommunityToUser:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.params.id,t.inviteLoading=!0,e.prev=2,e.next=5,t.shareCommunityToUserById({communityId:n,userIds:t.selectedUsers});case 5:return e.next=7,t.initCommunityMembers(t.$route.params.id);case 7:t.selectedUsers=[],t.inviteLoading=!1,t.inviteDialog=!1,t.snackbarSuccess("Invitation sent successfully"),e.next=19;break;case 13:e.prev=13,e.t0=e["catch"](2),console.log(e.t0.message),t.inviteLoading=!1,t.inviteDialog=!1,t.snackbarError("Error inviting users");case 19:case"end":return e.stop()}}),e,null,[[2,13]])})))()},assignRole:function(){return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}}),computed:Object(o["a"])(Object(o["a"])({},Object(C["c"])(["currentUser","communityMembers"])),{},{user:function(){return this.$store.state.auth.currentUser},theme:function(){return this.$vuetify.theme.dark?"dark":"light"},filteredMembers:function(){var t=this,e=wt.a.cloneDeep(this.communityMembers[0]),n=wt.a.cloneDeep(this.communityMembers[1]),a=wt.a.cloneDeep(this.communityMembers[2]);return e.users=e.users.filter((function(e){return(e.firstName+" "+e.lastName).toLowerCase().includes(t.searchMemberKeyword.toLowerCase())})),n.users=n.users.filter((function(e){return(e.firstName+" "+e.lastName).toLowerCase().includes(t.searchMemberKeyword.toLowerCase())})),a.users=a.users.filter((function(e){return(e.firstName+" "+e.lastName).toLowerCase().includes(t.searchMemberKeyword.toLowerCase())})),[e,n,a]}}),created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getCommunityById(t.$route.params.id);case 3:return t.community=e.sent,e.next=6,t.initCommunityMembers(t.$route.params.id);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.$router.push({name:"dashboard"});case 11:n=localStorage.getItem("darkTheme"),n&&(t.$vuetify.theme.dark="true"===n),t.community.ownerId===t.currentUser.userId&&t.actions.push({title:"Assign Role",icon:"assignment_ind",color:"#1e90ff",click:t.assignRole});case 14:case"end":return e.stop()}}),e,null,[[0,8]])})))()}},Ct=kt,_t=(n("d78a"),n("169a")),It=n("0fd9"),Nt=Object(h["a"])(Ct,P,q,!1,null,null,null),jt=Nt.exports;b()(Nt,{VBtn:O["a"],VCard:V["a"],VCardActions:K["a"],VCardTitle:K["d"],VDialog:_t["a"],VDivider:S["a"],VIcon:T["a"],VList:R["a"],VListItem:A["a"],VListItemContent:L["a"],VListItemTitle:L["c"],VNavigationDrawer:z["a"],VRow:It["a"],VSpacer:B["a"],VTextField:st["a"],VTooltip:M["a"]});var Ot={name:"App",components:{NavigationBar:F,CommunityBar:jt},data:function(){return{app:null}},methods:Object(o["a"])({},Object(C["d"])(["snackbarInfo","setSnackbarShow"])),computed:Object(o["a"])(Object(o["a"])({},Object(C["e"])(["snackbarMessage","snackbarColor"])),{},{snackbarShow:{get:function(){return this.$store.state.snackbarShow},set:function(t){this.setSnackbarShow(t)}},theme:function(){return this.$vuetify.theme.dark?"dark":"light"},navbarName:function(){return this.$route.meta.navbar}}),mounted:function(){this.$store.dispatch("initialLogin",this.$router)}},Vt=Ot,St=n("7496"),Ut=n("f6c4"),Tt=n("2db4"),Rt=Object(h["a"])(Vt,s,i,!1,null,null,null),At=Rt.exports;b()(Rt,{VApp:St["a"],VBtn:O["a"],VMain:Ut["a"],VSnackbar:Tt["a"]});var Lt=n("8c4f"),Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-container",{staticClass:"trans main-container"},[n("div",[n("h1",{staticClass:"special-text info--text mb-1"},[t._v("Dashboard")]),n("v-divider"),n("CommunityGroup",{staticClass:"mt-4"}),n("NotebookGrid",{staticClass:"mt-4"})],1)]),n("div",{class:{"action-button-container":t.$vuetify.breakpoint.xs}},[n("v-speed-dial",{attrs:{fixed:!t.$vuetify.breakpoint.xs,bottom:!0,right:!0,direction:"top",transition:"slide-y-reverse-transition","open-on-hover":!0},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-btn",{attrs:{color:"primary",dark:"",fab:"",large:""},model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[n("v-icon",{attrs:{large:""}},[t._v(" "+t._s(t.fab?"close":"add")+" ")])],1)]},proxy:!0}]),model:{value:t.fab,callback:function(e){t.fab=e},expression:"fab"}},[n("v-tooltip",{attrs:{left:"",transition:"all 0.2s"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{fab:"",dark:"",color:"orange",size:t.actionSize},on:{click:function(e){e.stopPropagation(),t.createNotebookDialog=!0}}},"v-btn",r,!1),a),[n("v-icon",[t._v("edit_note")])],1)]}}])},[n("span",[t._v("Create New Notebook")])]),n("v-tooltip",{attrs:{left:"",transition:"all 0.2s"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{fab:"",dark:"",color:"red",size:t.actionSize},on:{click:function(e){e.stopPropagation(),t.createCommunityDialog=!0}}},"v-btn",r,!1),a),[n("v-icon",[t._v("group_add")])],1)]}}])},[n("span",[t._v("Create New Community")])])],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.createNotebookDialog,callback:function(e){t.createNotebookDialog=e},expression:"createNotebookDialog"}},[n("v-card",{attrs:{loading:t.loading}},[n("v-card-title",{staticClass:"text-h6 info--text"},[t._v(" "+t._s(t.loading?"Creating...":" Create a New Notebook")+" ")]),n("v-divider"),n("v-card-text",{staticClass:"pt-3 pb-2"},[n("v-form",{ref:"createNotebookForm"},[n("v-text-field",{staticClass:"mt-3",attrs:{outlined:"",dense:"",label:"Notebook Title",placeholder:"Untitled notebook ...","append-icon":"drive_file_rename_outline",rules:[t.noteTitle&&t.noteTitle.length>0||"Note title must be non-empty"],disabled:t.loading},model:{value:t.noteTitle,callback:function(e){t.noteTitle=e},expression:"noteTitle"}}),n("v-autocomplete",{staticClass:"mt-1",attrs:{outlined:"",items:t.noteCategories,label:"Note Categories",multiple:"",hint:"Choose categories that best describe your notebook","persistent-hint":"",rules:[function(t){return t&&t.length>0||"You must choose at least 1 category"}],disabled:t.loading},scopedSlots:t._u([{key:"selection",fn:function(e){return[n("v-chip",t._b({staticClass:"primary font-weight-bold",attrs:{"input-value":e.selected,close:"",small:"",color:"white"},on:{"click:close":function(n){return t.removeCategories(e.item)}}},"v-chip",e.attrs,!1),[t._v(" "+t._s(e.item)+" ")])]}}]),model:{value:t.selectedNoteCategories,callback:function(e){t.selectedNoteCategories=e},expression:"selectedNoteCategories"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:"",disabled:t.loading},on:{click:function(e){return t.createNotebook()}}},[t._v(" Create ")]),n("v-btn",{attrs:{color:"error",text:"",disabled:t.loading},on:{click:function(e){return t.reset()}}},[t._v(" Cancel ")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"500"},model:{value:t.createCommunityDialog,callback:function(e){t.createCommunityDialog=e},expression:"createCommunityDialog"}},[n("v-card",{attrs:{loading:t.loading}},[n("v-card-title",{staticClass:"text-h6 info--text"},[t._v(" "+t._s(t.loading?"Creating...":"Create a New Community")+" ")]),n("v-divider"),n("v-card-text",{staticClass:"pb-0"},[n("v-form",{ref:"createCommunityForm"},[n("v-text-field",{staticClass:"mt-7",attrs:{outlined:"",dense:"",label:"Community Name",placeholder:"Awsome community ...","append-icon":"drive_file_rename_outline",rules:[t.communityName&&t.communityName.length>0||"Community name must be non-empty"],disabled:t.loading},model:{value:t.communityName,callback:function(e){t.communityName=e},expression:"communityName"}}),n("v-textarea",{staticClass:"mt-2 mb-1",attrs:{outlined:"",counter:"",name:"input-7-4",label:"Community Description",rules:[function(t){return t&&t.length<=300||"Max 300 characters"},function(t){return t&&t.length>0||"Description must be non-empty"}],disabled:t.loading},model:{value:t.communityDescription,callback:function(e){t.communityDescription=e},expression:"communityDescription"}}),n("ImageUpload",{attrs:{height:280,uploadedImage:t.uploadedImage,rules:[function(t){return t&&null!==t||"Image must not be empty"}],disabled:t.loading},on:{"update:uploadedImage":function(e){t.uploadedImage=e},"update:uploaded-image":function(e){t.uploadedImage=e}}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:"",disabled:t.loading},on:{click:function(e){return t.createCommunity()}}},[t._v(" Create ")]),n("v-btn",{attrs:{color:"error",text:"",disabled:t.loading},on:{click:function(e){return t.reset()}}},[t._v(" Cancel ")])],1)],1)],1)],1)},$t=[],zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-sheet",{attrs:{elevation:"4",rounded:"lg"}},[n("v-toolbar",{staticClass:"notegrid-toolbar d-flex align-center justify-center",attrs:{elevation:1}},[n("div",{staticClass:"px-0 pb-0",style:"width: 100%;"},[n("v-text-field",{attrs:{label:"Search Community","append-icon":"search",outlined:"",dense:"","hide-details":"auto","clear-icon":"highlight_off",clearable:""},on:{"click:clear":function(e){t.searchContent=""}},model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}})],1),n("v-spacer",{directives:[{name:"show",rawName:"v-show",value:!t.$vuetify.breakpoint.xs,expression:"!$vuetify.breakpoint.xs"}]}),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.$vuetify.breakpoint.xs,expression:"!$vuetify.breakpoint.xs"}],staticClass:"ml-3",attrs:{outlined:"",color:"primary"},on:{click:t.handleJoinCommunity}},[n("v-icon",{attrs:{left:""}},[t._v("add")]),t._v(" Join New ")],1)],1),t.initializing?n("v-slide-group",{staticClass:"pa-0 pb-1 community-group",attrs:{"show-arrows":""}},t._l([1,2,3,4],(function(t,e){return n("v-slide-item",{key:"loader-"+e},[n("v-sheet",{staticClass:"pa-3 ma-3",attrs:{rounded:""}},[n("v-skeleton-loader",{attrs:{width:"270",height:"330",type:"card-heading, image, list-item-two-line"}})],1)],1)})),1):t.$vuetify.breakpoint.xs?n("v-window",{staticClass:"pa-0 pb-1 community-group",style:{width:"100%",height:"100%"},attrs:{"show-arrows":""},scopedSlots:t._u([{key:"prev",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",color:"white"}},"v-btn",r,!1),a),[n("v-icon",[t._v("arrow_left")])],1)]}},{key:"next",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{icon:"",color:"white"}},"v-btn",r,!1),a),[n("v-icon",[t._v("arrow_right")])],1)]}}])},t._l(t.matchedCommunities,(function(e,a){return n("v-window-item",{key:a},[n("div",{staticClass:"d-flex justify-center"},[n("CommunityCard",{attrs:{active:t.active,toggle:t.toggle,community:e},on:{"leave-community":t.handleDeleteCommunity,"enter-community":t.handleEnterCommunity}})],1)])})),1):n("v-slide-group",{staticClass:"pa-0 pb-1 community-group",attrs:{"show-arrows":""}},t._l(t.matchedCommunities,(function(e,a){return n("v-slide-item",{key:a,scopedSlots:t._u([{key:"default",fn:function(a){var r=a.active,s=a.toggle;return[n("CommunityCard",{staticClass:"ml-4",attrs:{active:r,toggle:s,community:e},on:{"leave-community":t.handleDeleteCommunity,"enter-community":t.handleEnterCommunity}})]}}],null,!0)})})),1)],1)},Bt=[],Mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"ma-2 card pa-0 my-3 ",attrs:{height:t.cardHeight,width:"250",elevation:4},on:{click:t.enterCommunity}},[n("v-img",{staticClass:"white--text align-start",attrs:{src:t.community.photo,height:"170"}},[n("v-card-actions",{staticClass:"pa-0 text-center"},[n("v-spacer"),n("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",{attrs:{icon:""}},[n("v-icon",t._g(t._b({attrs:{color:"white lighten-4"}},"v-icon",r,!1),a),[t._v("more_horiz")])],1)]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-list",{staticClass:"pa-0"},t._l(t.actions,(function(e){return n("v-list-item",{key:e.title,staticClass:"pa-0"},[n("v-dialog",{attrs:{persistent:"","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,s=a.attrs;return[n("v-btn",t._g(t._b({staticClass:"text-capitalize d-flex justify-start info--text",staticStyle:{width:"100%"},attrs:{text:""}},"v-btn",s,!1),r),[n("v-icon",{attrs:{left:""}},[t._v("exit_to_app")]),t._v(" "+t._s(e.title)+" ")],1)]}}],null,!0),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},["leave community"===e.title?n("v-card",[n("v-card-title",{staticClass:"text-h6"},[t._v(" Are you sure to leave this community? ")]),n("v-card-text",[t._v("This may cause irriversable data loss.")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(n){return t.closeDialogWithAction(e.onClick)}}},[t._v(" Leave ")]),n("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){return t.closeDialogWithAction()}}},[t._v(" Cancel ")])],1)],1):t._e()],1)],1)})),1)],1)],1)],1),n("v-divider"),n("v-card-text",{staticClass:"pa-0"},[n("v-card-title",{staticClass:"pt-1 pb-0 d-inline-block text-truncate text-cardtext",staticStyle:{"max-width":"250px"}},[t._v(" "+t._s(t.community.name)+" ")]),n("v-divider",{staticClass:"mx-3"}),n("div",{staticClass:"d-flex px-3 pt-2"},[n("v-spacer"),n("v-card-subtitle",{staticClass:"pa-0 font-weight-medium text-cardtext"},[t._v(" Creator: "+t._s(t.getFullName(t.community.owner))+" ")])],1),n("div",{staticClass:"d-flex flex-row px-2 align-center justify-end pt-0"},[n("v-icon",[t._v("groups")]),n("v-card-subtitle",{staticClass:"font-weight-medium pa-1 text-cardtext"},[t._v(" Members: "+t._s(t.community.memberCount)+" ")])],1)],1)],1)},Et=[],Ft={name:"CommunityCard",props:{active:{type:Boolean},toggle:{type:Function},community:{type:Object,required:!0}},data:function(){var t=this;return{actions:[{title:"leave community",onClick:function(){return t.leaveCommunity()},color:"error"}],dialog:!1,menu:!1,cardHeight:280}},methods:{leaveCommunity:function(){this.$emit("leave-community",this.community)},enterCommunity:function(){this.$emit("enter-community",this.community)},closeDialogWithAction:function(t){this.menu=!1,this.dialog=!1,t&&t()},getFullName:function(t){return"".concat(t.firstName," ").concat(t.lastName)},getRandomColor:function(){for(var t="0123456789ABCDEF",e="#",n=0;n<6;n++)e+=t[Math.floor(16*Math.random())];return e}}},Pt=Ft,qt=(n("aa21"),Object(h["a"])(Pt,Mt,Et,!1,null,null,null)),Wt=qt.exports;b()(qt,{VBtn:O["a"],VCard:V["a"],VCardActions:K["a"],VCardSubtitle:K["b"],VCardText:K["c"],VCardTitle:K["d"],VDialog:_t["a"],VDivider:S["a"],VIcon:T["a"],VImg:y["a"],VList:R["a"],VListItem:A["a"],VMenu:$["a"],VSpacer:B["a"]});var Gt={name:"CommunityGroup",components:{CommunityCard:Wt},data:function(){return{searchContent:""}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(C["d"])(["snackbarInfo"])),Object(C["b"])(["initCommunityState","leaveCommunityById"])),{},{handleDeleteCommunity:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.leaveCommunityById({communityId:t.communityId,userId:e.currentUser.userId});case 2:e.snackbarInfo("You are no longer be the member of ".concat(t.name));case 3:case"end":return n.stop()}}),n)})))()},handleEnterCommunity:function(t){this.$router.push({name:"community",params:{id:t.communityId}})},handleJoinCommunity:function(){this.$router.push({name:"communities"})}}),computed:Object(o["a"])(Object(o["a"])({},Object(C["c"])(["communities","currentUser","communitiesInitialized"])),{},{matchedCommunities:function(){var t=this;return this.communities.filter((function(e){return e.name.toLowerCase().includes(t.searchContent.toLowerCase())}))},initializing:function(){return!this.communitiesInitialized}}),mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.communitiesInitialized){e.next=4;break}return console.log("Initializing Communities..."),e.next=4,t.initCommunityState();case 4:case"end":return e.stop()}}),e)})))()}},Ht=Gt,Yt=(n("c392"),n("8dd9")),Kt=n("3129"),Jt=n("7efd"),Xt=n("9dbe"),Qt=n("71d9"),Zt=n("f665"),te=n("1e6c"),ee=Object(h["a"])(Ht,zt,Bt,!1,null,null,null),ne=ee.exports;b()(ee,{VBtn:O["a"],VIcon:T["a"],VSheet:Yt["a"],VSkeletonLoader:Kt["a"],VSlideGroup:Jt["b"],VSlideItem:Xt["a"],VSpacer:B["a"],VTextField:st["a"],VToolbar:Qt["a"],VWindow:Zt["a"],VWindowItem:te["a"]});var ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-sheet",{attrs:{elevation:"4",rounded:"lg"}},[n("v-card",{attrs:{width:"100%"}},[n("v-toolbar",{staticClass:"notegrid-toolbar px-1 d-flex align-center justify-center",attrs:{elevation:1}},[t.$vuetify.breakpoint.xs?t._e():n("div",{staticClass:"pr-4 pb-0",style:"width: 100%;"},[n("v-text-field",{attrs:{label:"Search Title","append-icon":"search",outlined:"","hide-details":"auto","clear-icon":"highlight_off",clearable:"",dense:""},on:{"click:clear":function(e){t.searchContent=""}},model:{value:t.searchContent,callback:function(e){t.searchContent=e},expression:"searchContent"}})],1),t.$vuetify.breakpoint.smAndDown?t._e():n("v-spacer"),n("div",{staticClass:"px-0 pb-0"},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"text-capitalize",attrs:{text:""}},"v-btn",r,!1),a),[n("v-icon",{attrs:{left:""}},[t._v("share")]),t._v(" "+t._s(null!==t.sharedIdx?t.shareMessage:"All Documents")+" "),n("v-icon",{attrs:{right:"",size:"30"}},[t._v("arrow_drop_down")])],1)]}}])},[n("v-list",[n("v-list-item",{staticClass:"font-weight-medium",on:{click:function(e){t.sharedIdx=null}}},[n("v-icon",{attrs:{left:""}},[t._v("apps")]),n("v-list-item-title",[t._v(" All Documents")])],1),t.sharedUsers.length>0?n("v-divider"):t._e(),t._l(t.sharedUsers,(function(e,a){return n("v-list-item",{key:a,on:{click:function(e){t.sharedIdx=a}}},[n("v-icon",{attrs:{left:""}},[t._v("account_circle")]),n("v-list-item-title",[t._v(t._s(t.getFullName(e)))])],1)}))],2)],1)],1),t.$vuetify.breakpoint.smAndDown?t._e():n("v-spacer"),t.$vuetify.breakpoint.smAndDown?t._e():n("div",{staticClass:"pl-4 pb-0",staticStyle:{width:"100%"}},[n("v-select",{attrs:{"offset-y":"",items:t.noteCategories,multiple:"",label:"Filter Category","hide-details":"auto","append-icon":"filter_list",outlined:"",dense:""},scopedSlots:t._u([{key:"selection",fn:function(e){var a=e.item,r=e.index;return[0===r?n("div",{staticClass:"overflow-hidden text-truncate"},[n("v-chip",{attrs:{small:"",close:""},on:{"click:close":function(e){return t.selectedCategories.shift()}}},[n("span",[t._v(t._s(a))])]),n("span",{staticClass:"grey--text text-caption"},[t._v(" (+"+t._s(t.selectedCategories.length-1)+" others) ")])],1):t._e()]}}],null,!1,1734108460),model:{value:t.selectedCategories,callback:function(e){t.selectedCategories=e},expression:"selectedCategories"}})],1)],1),n("v-card-text",{staticClass:"py-5"},[t.initializing?n("v-row",{staticClass:"notegrid-row",attrs:{justify:"center",align:"center"}},t._l([1,2,3,4],(function(t,e){return n("v-col",{key:"note-loader-"+e,staticClass:"d-flex justify-center",attrs:{cols:"12",xs:"6",sm:"6",md:"4",lg:"3",xl:"3"}},[n("v-skeleton-loader",{attrs:{type:"list-item-avatar-two-line, card, text",width:"250",height:"384"}})],1)})),1):n("v-row",{staticClass:"notegrid-row",attrs:{justify:"center",align:"center"}},t._l(t.filteredNotes,(function(e,a){return n("v-col",{key:a,staticClass:"d-flex justify-center",attrs:{cols:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"3"}},[n("NotexCard",{attrs:{note:e},on:{"delete-note":t.deleteNote,"edit-note-title":t.editNoteTitle}})],1)})),1)],1)],1)],1)},re=[],se=n("b85c"),ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"notex-card card",attrs:{elevation:4},on:{click:t.enterWorkspace}},[n("v-responsive",{attrs:{"aspect-ratio":16/9}},[n("div",{staticClass:"d-flex overflow-hidden"},[n("v-card-title",{staticClass:"pt-2 pb-2"},[n("UserAvatar",{attrs:{size:40,firstname:t.note.owner.firstName,lastname:t.note.owner.lastName,avatarUrl:t.note.owner.avatarUrl}})],1),n("div",{staticStyle:{width:"100%"}},[n("v-card-title",{staticClass:"info--text px-0 pt-1 pb-0 pr-1 text-h6 d-flex flex-nowrap"},[n("v-tooltip",{attrs:{top:"",transition:"all 0.25s"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("span",t._g(t._b({staticClass:"d-inline-block text-truncate font-weight-medium",staticStyle:{"max-width":"130px","font-size":"1rem"}},"span",r,!1),a),[t._v(" "+t._s(t.note.noteTitle)+" ")])]}}])},[n("span",[t._v(" "+t._s(t.note.noteTitle))])]),n("v-spacer"),t.currentUser.userId===t.note.ownerId?n("v-menu",{attrs:{"offset-y":"",left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",{attrs:{icon:"",small:""}},[n("v-icon",t._g(t._b({staticClass:"pa-0 ma-0"},"v-icon",r,!1),a),[t._v("more_vert")])],1)]}}],null,!1,738843286),model:{value:t.noteMenu,callback:function(e){t.noteMenu=e},expression:"noteMenu"}},[n("v-list",{staticClass:"pa-0",attrs:{dense:""}},[n("v-list-item",{staticClass:"pa-0"},[n("v-dialog",{attrs:{persistent:"","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"text-capitalize d-flex justify-start info--text",staticStyle:{width:"100%"},attrs:{text:""}},"v-btn",r,!1),a),[n("v-icon",{attrs:{left:""}},[t._v("edit")]),t._v(t._s(t.actions[0].title)+" ")],1)]}}],null,!1,1347309759),model:{value:t.editTitleDialog,callback:function(e){t.editTitleDialog=e},expression:"editTitleDialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h6"},[t._v(" Edit Note Title ")]),n("v-divider"),n("v-card-text",{staticClass:"py-0 mt-6"},[n("v-form",{ref:"editNoteForm"},[n("v-text-field",{attrs:{label:"New Note Title","clear-icon":"highlight_off",clearable:"","append-icon":"drive_file_rename_outline",rules:[function(t){return t&&0!==t.length||"Note title must not be empty"}]},on:{"click:clear":function(e){t.noteTitle=""}},model:{value:t.noteTitle,callback:function(e){t.noteTitle=e},expression:"noteTitle"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.closeDialogWithAction(t.actions[0].onClick)}}},[t._v(" Confirm ")]),n("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){return t.closeDialogWithAction()}}},[t._v(" Cancel ")])],1)],1)],1)],1),n("v-list-item",{staticClass:"pa-0"},[n("v-dialog",{attrs:{persistent:"","max-width":"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"text-capitalize d-flex justify-start info--text",staticStyle:{width:"100%"},attrs:{text:""}},"v-btn",r,!1),a),[n("v-icon",{attrs:{left:""}},[t._v("delete")]),t._v(t._s(t.actions[1].title)+" ")],1)]}}],null,!1,3252013115),model:{value:t.deleteNoteDialog,callback:function(e){t.deleteNoteDialog=e},expression:"deleteNoteDialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h6"},[t._v(" Delete Note ")]),n("v-divider"),n("v-card-text",{staticClass:"py-0"},[n("v-checkbox",{attrs:{label:"Are you willing to transfer ownership?"},model:{value:t.transferOwnership,callback:function(e){t.transferOwnership=e},expression:"transferOwnership"}}),n("v-form",{ref:"ownershipForm"},[n("v-autocomplete",{directives:[{name:"show",rawName:"v-show",value:t.transferOwnership,expression:"transferOwnership"}],attrs:{items:t.note.sharedUsers,label:"Transfer Ownership","item-text":function(t){return t.firstName+" "+t.lastName},"item-value":"userId",rules:[!t.transferOwnership||null!==t.sharedUserId||"You must select a user!"]},scopedSlots:t._u([{key:"selection",fn:function(e){return[t._v(" "+t._s(e.item.firstName+" "+e.item.lastName)+" ")]}},{key:"item",fn:function(e){return[[n("v-list-item-avatar",[n("UserAvatar",{attrs:{avatarUrl:e.item.avatarUrl,firstname:e.item.firstName,lastname:e.item.lastName,size:34}})],1),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.item.firstName+" "+e.item.lastName))])],1)]]}}],null,!1,4284946677),model:{value:t.sharedUserId,callback:function(e){t.sharedUserId=e},expression:"sharedUserId"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){return t.closeDialogWithAction(t.actions[1].onClick)}}},[t._v(" Confirm ")]),n("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){return t.closeDialogWithAction()}}},[t._v(" Cancel ")])],1)],1)],1)],1),n("v-list-item",{staticClass:"pa-0"},[n("v-dialog",{attrs:{persistent:"","max-width":"800"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"text-capitalize d-flex justify-start info--text",staticStyle:{width:"100%"},attrs:{text:""}},"v-btn",r,!1),a),[n("v-icon",{attrs:{left:""}},[t._v("share")]),t._v(t._s(t.actions[2].title)+" ")],1)]}}],null,!1,2951611596),model:{value:t.shareNoteDialog,callback:function(e){t.shareNoteDialog=e},expression:"shareNoteDialog"}},[n("v-card",[n("v-card-title",{staticClass:"info--text text-h6"},[t._v(" Share Note ")]),n("v-divider"),n("v-card-actions",{staticClass:"mt-3"},[n("UserSearchField",{attrs:{loading:t.shareLoading,selectedUsers:t.selectedUsers,searchResult:t.filteredSearchResult},on:{"change-selected-users":function(e){return t.selectedUsers=e},"search-complete":function(e){return t.searchResult=e.concat(t.searchResult)}}})],1),n("v-card-actions",[n("v-btn",{attrs:{block:"",color:"primary",filled:"",large:""},on:{click:t.actions[2].onClick}},[n("v-icon",{attrs:{left:""}},[t._v("share")]),t._v(" Share ")],1)],1),t.note.sharedUsers&&0!==t.note.sharedUsers.length?n("v-card-actions",{staticClass:"d-block"},[n("NoteAccessList",{attrs:{sharedUsers:t.note.sharedUsers,noteId:t.note.noteId}})],1):t._e(),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"error",text:""},on:{click:function(e){return t.closeDialogWithAction()}}},[t._v(" Cancel ")])],1)],1)],1)],1)],1)],1):t._e()],1),n("v-card-subtitle",{staticClass:"px-0 py-0 info--text d-inline-block text-truncate",staticStyle:{"max-width":"130px"}},[t._v("Owner: "+t._s(t.note.owner.firstName+" "+t.note.owner.lastName))])],1)],1),n("v-divider"),n("v-card-text",{staticClass:"pa-3"},[n("v-img",{staticClass:"note-card-preview grey darken-3 d-flex align-end justify-end rounded"},[n("p",{staticClass:"pl-2 pb-1 ma-0 mr-2 white--text"},[t._v("Created: "+t._s(t.timeToDate(t.note.createdAt)))])])],1),n("v-divider"),n("v-card-text",{staticClass:"py-2 d-flex justify-space-between text-truncate"},[n("div",{staticStyle:{width:"70px"}}),n("div",[n("v-icon",{attrs:{size:"18"}},[t._v("favorite_border")]),t._v(" "+t._s(t.note.likeCount)+" ")],1),n("div",[n("v-icon",{attrs:{size:"18"}},[t._v("remove_red_eye")]),t._v(" "+t._s(t.note.viewCount)+" ")],1),n("div",[n("v-icon",{attrs:{size:"18"}},[t._v("notes")]),t._v(" "+t._s(t.note.commentCount)+" ")],1)])],1)],1)},oe=[],ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{staticClass:"note-access-user-list elevation-1",style:{overflow:"scroll"},attrs:{"max-height":"400"}},[n("v-list-item-group",{attrs:{color:"info"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.sharedUsers,(function(e,a){return n("v-list-item",{key:"shaerd-user-noteaccess-"+a,attrs:{dense:""}},[n("v-list-item-avatar",[n("UserAvatar",{attrs:{firstname:e.firstName,lastname:e.lastName,avatarUrl:e.avatarUrl,size:38}})],1),n("v-list-item-content",[n("v-list-item-title",{staticClass:"text-capitalize"},[t._v(" "+t._s(e.firstName)+" "+t._s(e.lastName)+" ")]),n("v-list-item-subtitle",[t._v(" "+t._s(e.email)+" ")])],1),n("v-list-item-action",[n("v-menu",{scopedSlots:t._u([{key:"activator",fn:function(a){var r=a.on,s=a.attrs;return[n("v-btn",t._g(t._b({staticClass:"info--text d-flex justify-start",attrs:{text:"",small:""}},"v-btn",s,!1),r),[t._v(" "+t._s(e.accessStatus)+" "),n("v-icon",{attrs:{right:"",size:23}},[t._v("arrow_drop_down")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},t._l(t.statusActions,(function(e){return n("v-btn",{key:e.status,staticClass:"info--text text-capitalize d-flex justify-start",attrs:{block:"",text:"",left:""},on:{click:function(t){return e.onClick(a)}}},[n("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v(" "+t._s(e.label)+" ")],1)})),1)],1)],1)],1)})),1)],1)},le=[],ue={name:"NoteAccessList",components:{UserAvatar:k},props:{sharedUsers:{type:Array,required:!0},noteId:{type:Number,required:!0}},data:function(){var t=this;return{model:0,statusActions:[{label:"Viewer",onClick:function(e){return t.changeAccessStatus(e,!0)},icon:"remove_red_eye"},{label:"Editor",onClick:function(e){return t.changeAccessStatus(e,!1)},icon:"edit"},{label:"Remove",onClick:function(e){return t.deleteAccess(e)},icon:"delete"}]}},methods:Object(o["a"])(Object(o["a"])({},Object(C["b"])(["changeNoteAccessStatus","deleteSharedUserById"])),{},{changeAccessStatus:function(t,e){var n=this;return Object(a["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e?"viewer":"editor",a.prev=1,a.next=4,n.changeNoteAccessStatus({noteId:n.noteId,userId:n.sharedUsers[t].userId,accessStatus:r});case 4:n.sharedUsers[t].accessStatus=r,a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](1),console.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[1,7]])})))()},deleteAccess:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.deleteSharedUserById({noteId:e.noteId,userId:e.sharedUsers[t].userId});case 3:e.sharedUsers.splice(t,1),n.next=9;break;case 6:n.prev=6,n.t0=n["catch"](0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()}})},de=ue,me=(n("1dcc"),n("1800")),ve=n("1baa"),fe=Object(h["a"])(de,ce,le,!1,null,null,null),pe=fe.exports;b()(fe,{VBtn:O["a"],VIcon:T["a"],VList:R["a"],VListItem:A["a"],VListItemAction:me["a"],VListItemAvatar:gt["a"],VListItemContent:L["a"],VListItemGroup:ve["a"],VListItemSubtitle:L["b"],VListItemTitle:L["c"],VMenu:$["a"]});var he={name:"NotexCard",props:{note:{type:Object,required:!0}},components:{UserAvatar:k,UserSearchField:xt,NoteAccessList:pe},data:function(){return{actions:[],editTitleDialog:!1,deleteNoteDialog:!1,shareNoteDialog:!1,noteMenu:!1,noteTitle:this.note.noteTitle,transferOwnership:!1,sharedUserId:null,shareLoading:!1,selectedUsers:[],searchResult:[]}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(C["b"])(["shareNoteByUserId"])),Object(C["d"])(["updateNoteSharedUsers","snackbarSuccess","snackbarError"])),{},{enterWorkspace:function(){this.$router.push({name:"workspace",params:{id:this.note.dataId}})},deleteNote:function(){if(!this.$refs.ownershipForm.validate())throw new Error("Form is not validated!");this.$emit("delete-note",{ownerId:this.currentUser.userId,newOwnerId:this.sharedUserId,noteId:this.note.noteId})},editNoteTitle:function(){if(!this.$refs.editNoteForm.validate())throw new Error("Form is not validated!");this.$emit("edit-note-title",{noteId:this.note.noteId,newNoteTitle:this.noteTitle})},shareNote:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.shareNoteByUserId({noteId:t.note.noteId,userIds:t.selectedUsers});case 3:n=e.sent,t.note.sharedUsers=t.getUniqueSharedUsers([].concat(Object(ut["a"])(t.note.sharedUsers),Object(ut["a"])(n.data))),t.searchResult=[],t.selectedUsers=[],t.snackbarSuccess("Note shared successfully!"),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),t.snackbarError("Error while sharing note!"),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},closeDialogWithAction:function(t){try{t&&t(),this.noteMenu=!1,this.editTitleDialog=!1,this.deleteNoteDialog=!1,this.transferOwnership=!1,this.sharedUserId=null}catch(e){console.log(e.message)}},timeToDate:function(t){return m(t)},getUniqueSharedUsers:function(t){var e={};return t.filter((function(t){return!e[t.userId]&&(e[t.userId]=!0,!0)}))}}),computed:Object(o["a"])(Object(o["a"])({},Object(C["c"])(["currentUser"])),{},{filteredSearchResult:function(){var t=this;return this.searchResult.filter((function(e){return!t.note.sharedUsers.some((function(t){return t.userId===e.userId}))&&e.userId!==t.currentUser.userId}))}}),created:function(){var t=this,e={title:"Edit Note Title",onClick:function(){return t.editNoteTitle()},color:"primary"},n={title:"Delete Note",onClick:function(){return t.deleteNote()},color:"error"},a={title:"Share Note",onClick:function(){return t.shareNote()},color:"warning"};this.currentUser.userId===this.note.ownerId&&(this.actions.push(e),this.actions.push(n),this.actions.push(a))}},ge=he,be=(n("4add"),n("ac7c")),xe=n("4bd4"),ye=n("6b53"),we=Object(h["a"])(ge,ie,oe,!1,null,null,null),ke=we.exports;b()(we,{VAutocomplete:pt["a"],VBtn:O["a"],VCard:V["a"],VCardActions:K["a"],VCardSubtitle:K["b"],VCardText:K["c"],VCardTitle:K["d"],VCheckbox:be["a"],VDialog:_t["a"],VDivider:S["a"],VForm:xe["a"],VIcon:T["a"],VImg:y["a"],VList:R["a"],VListItem:A["a"],VListItemAvatar:gt["a"],VListItemContent:L["a"],VListItemTitle:L["c"],VMenu:$["a"],VResponsive:ye["a"],VSpacer:B["a"],VTextField:st["a"],VTooltip:M["a"]});var Ce={name:"NotebookGrid",components:{NotexCard:ke},data:function(){return{searchContent:"",sharedIdx:null,selectedCategories:[]}},computed:Object(o["a"])(Object(o["a"])({},Object(C["c"])(["currentUser","sharedUsers","notes","noteCategories","notesInitialized"])),{},{shareMessage:function(){return 0===this.notes.length?"All Documents":this.currentUser.userId===this.sharedUsers[this.sharedIdx].userId?"Owned by "+this.getFullName(this.sharedUsers[this.sharedIdx]):"Shared by "+this.getFullName(this.sharedUsers[this.sharedIdx])},filteredNotes:function(){var t=this;return this.notes.filter((function(e){return e.noteTitle.toLowerCase().includes(t.searchContent.toLowerCase())})).filter((function(e){return t.intersect(e.categories)})).filter((function(e){return null===t.sharedIdx||e.ownerId===t.sharedUsers[t.sharedIdx].userId}))},initializing:function(){return!this.notesInitialized}}),methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(C["b"])(["initNoteState","editNoteTitleById","deleteNoteAccessById"])),Object(C["d"])(["snackbarInfo","snackbarSuccess"])),{},{intersect:function(t){if(0==this.selectedCategories.length)return!0;var e,n=Object(se["a"])(this.selectedCategories);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(!t.includes(a))return!1}}catch(r){n.e(r)}finally{n.f()}return!0},getFullName:function(t){return"".concat(t.firstName," ").concat(t.lastName)},deleteNote:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.deleteNoteAccessById(t);case 2:e.snackbarInfo("Notebook has been removed from your dashboard.");case 3:case"end":return n.stop()}}),n)})))()},editNoteTitle:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.editNoteTitleById(t);case 2:e.snackbarSuccess("Update notebook title successfull.");case 3:case"end":return n.stop()}}),n)})))()}}),mounted:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.notesInitialized){e.next=4;break}return console.log("Initializing Notes..."),e.next=4,t.initNoteState();case 4:case"end":return e.stop()}}),e)})))()}},_e=Ce,Ie=(n("cc39"),n("62ad")),Ne=n("b974"),je=Object(h["a"])(_e,ae,re,!1,null,null,null),Oe=je.exports;b()(je,{VBtn:O["a"],VCard:V["a"],VCardText:K["c"],VChip:ht["a"],VCol:Ie["a"],VDivider:S["a"],VIcon:T["a"],VList:R["a"],VListItem:A["a"],VListItemTitle:L["c"],VMenu:$["a"],VRow:It["a"],VSelect:Ne["a"],VSheet:Yt["a"],VSkeletonLoader:Kt["a"],VSpacer:B["a"],VTextField:st["a"],VToolbar:Qt["a"]});var Ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{attrs:{outlined:""}},[n("v-card-text",{class:{"py-3":null==t.uploadedImage,"pa-0":null!==t.uploadedImage},style:"height: "+t.height+"px;"},[null===t.uploadedImage?n("div",{staticClass:"d-flex flex-column upload-border justify-center align-center",class:{primary:t.dragover},staticStyle:{height:"100%"},attrs:{dense:""},on:{drop:function(e){return e.preventDefault(),t.onDrop(e)},dragover:function(e){e.preventDefault(),t.dragover=!0},dragenter:function(e){e.preventDefault(),t.dragover=!0},dragleave:function(e){e.preventDefault(),t.dragover=!1},click:function(e){!t.disabled&&t.$refs.inputRef.click()}}},[n("v-icon",{attrs:{size:"60",color:t.dragover?"white":"info"}},[t._v("mdi-cloud-upload")]),n("p",{staticClass:"mb-2",class:t.dragover?"white--text":"info--text"},[t._v(" Drop your file here, or click to select them. ")]),n("p",{directives:[{name:"show",rawName:"v-show",value:t.error,expression:"error"}],staticClass:"error--text mb-0"},[t._v(" "+t._s(t.message)+" ")])],1):n("div",{staticClass:"d-flex justify-center align-center overflow-hidden info",staticStyle:{height:"100%"}},[n("v-img",{staticClass:"info",attrs:{contain:"","max-height":t.height,"max-width":"100%",src:t.imageUrl}})],1)]),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputRef",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.onDrop(e)}}}),n("v-divider",{directives:[{name:"show",rawName:"v-show",value:null!==t.uploadedImage,expression:"uploadedImage !== null"}]}),n("v-card-actions",{staticClass:"py-0"},[n("v-spacer"),n("v-tooltip",{attrs:{bottom:"",transition:"all 0.3s"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:null!==t.uploadedImage,expression:"uploadedImage !== null"}],attrs:{icon:"",disabled:t.disabled},on:{click:t.reset}},"v-btn",r,!1),a),[n("v-icon",{attrs:{color:"error"}},[t._v("delete")])],1)]}}])},[n("span",[t._v("Delete Image")])])],1)],1),n("v-input",{attrs:{type:"file",rules:t.rules,disabled:t.disabled},model:{value:t.uploadedImage,callback:function(e){t.uploadedImage=e},expression:"uploadedImage"}})],1)},Se=[],Ue=(n("ac1f"),n("466d"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),{name:"ImageUpload",props:{uploadedImage:{required:!1},height:{default:200},rules:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1}},data:function(){return{dragover:!1,error:!1,message:""}},methods:{onDrop:function(t){if(this.dragover=!1,!this.disabled){var e=t.dataTransfer?Object(ut["a"])(t.dataTransfer.files):Object(ut["a"])(t.target.files);0===e.length?(this.error=!0,this.message="You must upload an image!"):e.length>1?(this.error=!0,this.message="Only 1 image file is accepted!"):this.validateImageFile(e[0])?(this.error=!1,this.$emit("update:uploadedImage",e[0])):(this.error=!0,this.message="You must upload an image!")}},reset:function(){this.$emit("update:uploadedImage",null)},validateImageFile:function(t){var e=t.name,n=t.type,a=e.substring(e.lastIndexOf(".")+1);return null!=n.match(/image\/*/)&&("jpg"==a||"png"==a||"jpeg"==a||"gif"==a)}},computed:{imageUrl:function(){if(null===this.uploadedImage)return null;var t=URL.createObjectURL(this.uploadedImage);return t}}}),Te=Ue,Re=(n("f66d"),n("b675")),Ae=Object(h["a"])(Te,Ve,Se,!1,null,"76f6df8c",null),Le=Ae.exports;b()(Ae,{VBtn:O["a"],VCard:V["a"],VCardActions:K["a"],VCardText:K["c"],VDivider:S["a"],VIcon:T["a"],VImg:y["a"],VInput:Re["a"],VSpacer:B["a"],VTooltip:M["a"]});var De={name:"Dashboard",components:{CommunityGroup:ne,NotebookGrid:Oe,ImageUpload:Le},data:function(){return{actionSize:40,fab:!1,createNotebookDialog:!1,createCommunityDialog:!1,noteTitle:"",communityName:"",communityDescription:"",uploadedImage:null,loading:!1,selectedNoteCategories:[],categories:[]}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(C["b"])(["createCommunityByUser","createNoteByUser"])),Object(C["d"])(["snackbarSuccess"])),{},{createNotebook:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$refs.createNotebookForm.validate()){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,n={noteTitle:t.noteTitle,userId:t.currentUser.userId,accessStatus:"owner",categories:t.selectedNoteCategories},e.next=6,t.createNoteByUser(n);case 6:setTimeout((function(){t.reset(),t.snackbarSuccess("New notebook has been created!"),t.$refs.createNotebookForm.reset()}),1e3);case 7:case"end":return e.stop()}}),e)})))()},createCommunity:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$refs.createCommunityForm.validate()){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,n={name:t.communityName,description:t.communityDescription,photoFile:t.uploadedImage,ownerId:t.currentUser.userId},e.next=6,t.createCommunityByUser(n);case 6:setTimeout((function(){t.reset(),t.snackbarSuccess("New community has been created!"),t.$refs.createCommunityForm.reset()}),1e3);case 7:case"end":return e.stop()}}),e)})))()},removeCategories:function(t){this.selectedNoteCategories.splice(this.selectedNoteCategories.indexOf(t),1)},reset:function(){this.createNotebookDialog=!1,this.createCommunityDialog=!1,this.noteTitle="",this.communityName="",this.communityDescription="",this.selectedNoteCategories=[],this.uploadedImage=null,this.loading=!1}}),computed:Object(o["a"])({},Object(C["c"])(["currentUser","noteCategories"]))},$e=De,ze=(n("2b56"),n("a523")),Be=n("c73b"),Me=n("a844"),Ee=Object(h["a"])($e,Dt,$t,!1,null,null,null),Fe=Ee.exports;b()(Ee,{VAutocomplete:pt["a"],VBtn:O["a"],VCard:V["a"],VCardActions:K["a"],VCardText:K["c"],VCardTitle:K["d"],VChip:ht["a"],VContainer:ze["a"],VDialog:_t["a"],VDivider:S["a"],VForm:xe["a"],VIcon:T["a"],VSpacer:B["a"],VSpeedDial:Be["a"],VTextField:st["a"],VTextarea:Me["a"],VTooltip:M["a"]});var Pe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"fill-height"},[n("v-card",{staticClass:"d-flex flex-column",attrs:{width:"100%",elevation:"0"}},[n("v-toolbar",{attrs:{flat:"",dense:""}},[n("v-toolbar-title",{staticClass:"grey--text"},[n("v-btn",{staticClass:"text-capitalize px-5",attrs:{text:""},on:{click:function(e){t.val++}}},[t._v(" Untitled Notebook "+t._s(t.val)+" ")])],1),n("v-spacer"),n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("mdi-magnify")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("mdi-apps")])],1),n("v-btn",{attrs:{icon:""}},[n("v-icon",[t._v("mdi-dots-vertical")])],1)],1),n("div",[n("v-btn",{class:{"is-active":t.editor.isActive("notexCodeBlock")},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().toggleCodeBlock().focus().run()}}},[t._v(" CodeBlock ")]),n("v-btn",{class:{"is-active":t.editor.isActive("textStyle",{class:"rainbow"})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().toggleMark("textStyle",{class:"rainbow"}).focus().run()}}},[t._v(" Rainbow")]),n("v-btn",{class:{"is-active":t.editor.isActive("highlight")},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleHighlight().run()}}},[t._v(" highlight ")]),n("v-btn",{class:{"is-active":t.editor.isActive("bold")},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleBold().run()}}},[t._v(" bold ")]),n("v-btn",{class:{"is-active":t.editor.isActive("italic")},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleItalic().run()}}},[t._v(" italic ")]),n("v-btn",{class:{"is-active":t.editor.isActive("strike")},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleStrike().run()}}},[t._v(" strike ")]),n("v-btn",{class:{"is-active":t.editor.isActive("code")},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleCode().run()}}},[t._v(" code ")]),n("v-btn",{attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().unsetAllMarks().run()}}},[t._v(" clear marks ")]),n("v-btn",{attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().clearNodes().run()}}},[t._v(" clear nodes ")]),n("v-btn",{class:{"is-active":t.editor.isActive("paragraph")},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().setParagraph().run()}}},[t._v(" paragraph ")]),n("v-btn",{class:{"is-active":t.editor.isActive("heading",{level:1})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:1}).run()}}},[t._v(" h1 ")]),n("v-btn",{class:{"is-active":t.editor.isActive("heading",{level:2})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:2}).run()}}},[t._v(" h2 ")]),n("v-btn",{class:{"is-active":t.editor.isActive("heading",{level:3})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:3}).run()}}},[t._v(" h3 ")]),n("v-btn",{class:{"is-active":t.editor.isActive("heading",{level:4})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:4}).run()}}},[t._v(" h4 ")]),n("v-btn",{class:{"is-active":t.editor.isActive("heading",{level:5})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:5}).run()}}},[t._v(" h5 ")]),n("v-btn",{class:{"is-active":t.editor.isActive("heading",{level:6})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleHeading({level:6}).run()}}},[t._v(" h6 ")]),n("v-btn",{class:{"is-active":t.editor.isActive("bulletList")},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleBulletList().run()}}},[t._v(" bullet list ")]),n("v-btn",{class:{"is-active":t.editor.isActive("orderedList")},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleOrderedList().run()}}},[t._v(" ordered list ")]),n("v-btn",{class:{"is-active":t.editor.isActive("blockquote")},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().toggleBlockquote().run()}}},[t._v(" blockquote ")]),n("v-btn",{attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().setHorizontalRule().run()}}},[t._v(" horizontal rule ")]),n("v-btn",{attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().setHardBreak().run()}}},[t._v(" hard break ")]),n("v-btn",{attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().undo().run()}}},[t._v(" undo ")]),n("v-btn",{attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().redo().run()}}},[t._v(" redo ")]),n("v-btn",{class:{"is-active":t.editor.isActive({textAlign:"left"})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().setTextAlign("left").run()}}},[t._v(" left ")]),n("v-btn",{class:{"is-active":t.editor.isActive({textAlign:"center"})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().setTextAlign("center").run()}}},[t._v(" center ")]),n("v-btn",{class:{"is-active":t.editor.isActive({textAlign:"right"})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().setTextAlign("right").run()}}},[t._v(" right ")]),n("v-btn",{class:{"is-active":t.editor.isActive({textAlign:"justify"})},attrs:{outlined:"",small:""},on:{click:function(e){t.editor.chain().focus().setTextAlign("justify").run()}}},[t._v(" justify ")])],1),n("v-divider"),n("div",{staticClass:"notexBackground pa-0"},[n("EditorContent",{staticClass:"notex-content",attrs:{editor:t.editor}})],1)],1),n("pre",[n("code",[t._v(t._s(t.output))])])],1)},qe=[],We=n("1ab4"),Ge=n("7428"),He=n("2af3"),Ye=n("1bd2"),Ke=n("986d"),Je=n("672a"),Xe=n("056c"),Qe=n("1037"),Ze=(n("58e6"),n("9751")),tn=n("6a8e"),en=n("97a2"),nn=n("d797"),an=n("4377"),rn=n("9980"),sn=rn["c"].create({name:"abbreviation",parseHTML:function(){return[{tag:"abbr"}]},renderHTML:function(t){var e=t.HTMLAttributes;return["abbr",e,0]},addAttributes:function(){return{title:{default:null}}}}),on=rn["b"].create({name:"customClass",addGlobalAttributes:function(){return[{types:["textStyle"],attributes:{class:{default:""}}}]}}),cn=n("3835"),ln=(n("4fadc"),n("5313"));function un(t){var e=t.types,n=t.node;return Array.isArray(e)&&e.includes(n.type)||n.type===e}var dn=rn["b"].create({name:"trailingNode",addOptions:function(){return{node:"paragraph",notAfter:["paragraph"]}},addProseMirrorPlugins:function(){var t=this,e=new ln["e"](this.name),n=Object.entries(this.editor.schema.nodes).map((function(t){var e=Object(cn["a"])(t,2),n=e[1];return n})).filter((function(e){return t.options.notAfter.includes(e.name)}));return[new ln["d"]({key:e,appendTransaction:function(n,a,r){var s=r.doc,i=r.tr,o=r.schema,c=e.getState(r),l=s.content.size,u=o.nodes[t.options.node];if(c)return i.insert(l,u.create())},state:{init:function(t,e){var a=e.tr.doc.lastChild;return!un({node:a,types:n})},apply:function(t,e){if(!t.docChanged)return e;var a=t.doc.lastChild;return!un({node:a,types:n})}}})]}}),mn=n("7cd5"),vn=n("5924"),fn=n("ed4b"),pn=n("4674"),hn=n("2718"),gn=n("7eea"),bn=n("c088"),xn=n("dd2f"),yn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("node-view-wrapper",[n("div",{staticClass:"notex-bullet-list d-flex",style:{width:"100%"},on:{mouseover:function(e){return t.setFocused(!0)},mouseleave:function(e){return t.setFocused(!1)}}},[n("div",{staticClass:"d-flex align-center flex-column handles",attrs:{contenteditable:"false"}},[n("v-icon",{staticClass:"d-inline-block pt-2 drag-handle",attrs:{size:22,draggable:"true","data-drag-handle":""}},[t._v(" "+t._s(t.focused?"drag_indicator":null)+" ")])],1),n("node-view-content",{staticClass:"notex-bullet-list__content",class:""+t.textAlign,attrs:{as:"ul"}})],1)])},wn=[],kn={name:"BulletListWrapper",components:{NodeViewWrapper:We["d"],NodeViewContent:We["c"]},props:{nodeViewProps:We["f"],node:{type:Object,required:!0},selected:{type:Boolean}},data:function(){return{focused:!1}},methods:{setFocused:function(t){this.focused=t}},computed:{textAlign:function(){return"text-".concat(this.node.attrs.textAlign)}}},Cn=kn,_n=(n("f765"),Object(h["a"])(Cn,yn,wn,!1,null,null,null)),In=_n.exports;b()(_n,{VIcon:T["a"]});var Nn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("node-view-wrapper",[n("div",{staticClass:"notex-ordered-list d-flex",style:{width:"100%"},on:{mouseover:function(e){return t.setFocused(!0)},mouseleave:function(e){return t.setFocused(!1)}}},[n("div",{staticClass:"d-flex align-center flex-column handles",attrs:{contenteditable:"false"}},[n("v-icon",{staticClass:"d-inline-block pt-2 drag-handle",attrs:{size:22,draggable:"true","data-drag-handle":""}},[t._v(" "+t._s(t.focused?"drag_indicator":null)+" ")])],1),n("node-view-content",{staticClass:"notex-ordered-list__content",class:""+t.textAlign,attrs:{as:"ol"}})],1)])},jn=[],On={name:"OrderedListWrapper",components:{NodeViewWrapper:We["d"],NodeViewContent:We["c"]},props:{nodeViewProps:We["f"],node:{type:Object,required:!0},selected:{type:Boolean}},data:function(){return{focused:!1}},methods:{setFocused:function(t){this.focused=t}},computed:{textAlign:function(){return"text-".concat(this.node.attrs.textAlign)}}},Vn=On,Sn=(n("b69f"),Object(h["a"])(Vn,Nn,jn,!1,null,null,null)),Un=Sn.exports;b()(Sn,{VIcon:T["a"]});var Tn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("node-view-wrapper",[n("div",{staticClass:"notex-block-quote d-flex",style:{width:"100%"},on:{mouseover:function(e){return t.setFocused(!0)},mouseleave:function(e){return t.setFocused(!1)}}},[n("div",{staticClass:"d-flex align-center flex-column handles",attrs:{contenteditable:"false"}},[n("v-icon",{staticClass:"d-inline-block pt-2 drag-handle",attrs:{size:22,draggable:"true","data-drag-handle":""}},[t._v(" "+t._s(t.focused?"drag_indicator":null)+" ")])],1),n("node-view-content",{staticClass:"notex-block-quote__content",class:""+t.textAlign,attrs:{as:"blockquote"}})],1)])},Rn=[],An={name:"BlockQuoteWrapper",components:{NodeViewWrapper:We["d"],NodeViewContent:We["c"]},props:{nodeViewProps:We["f"],node:{type:Object,required:!0},selected:{type:Boolean}},data:function(){return{focused:!1}},methods:{setFocused:function(t){this.focused=t}},computed:{textAlign:function(){return"text-".concat(this.node.attrs.textAlign)}}},Ln=An,Dn=(n("a9c3"),Object(h["a"])(Ln,Tn,Rn,!1,null,null,null)),$n=Dn.exports;b()(Dn,{VIcon:T["a"]});var zn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("node-view-wrapper",[n("div",{staticClass:"notex-code-block d-flex",style:{width:"100%"},on:{mouseover:function(e){return t.setFocused(!0)},mouseleave:function(e){return t.setFocused(!1)}}},[n("div",{staticClass:"d-flex align-center flex-column handles",attrs:{contenteditable:"false"}},[n("v-icon",{staticClass:"d-inline-block pt-2 drag-handle",attrs:{size:22,draggable:"true","data-drag-handle":""}},[t._v(" "+t._s(t.focused?"drag_indicator":null)+" ")])],1),n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-width":200,"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({staticClass:"notex-code-block__language-select primary--text text-capitalize",attrs:{small:"",text:"",dense:""}},"v-btn",r,!1),a),[t._v(" "+t._s(null!==t.selectedLanguage?t.selectedLanguage:"Language")+" ")])]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-card",[n("div",[n("v-text-field",{staticClass:"px-2 pt-2",attrs:{dense:"",label:"Language",placeholder:"Search language",outlined:"","hide-details":""},model:{value:t.searchLanguage,callback:function(e){t.searchLanguage=e},expression:"searchLanguage"}})],1),n("v-card-text",{staticClass:"pa-0"},[n("v-list",{staticClass:"overflow-y-auto",attrs:{dense:"","max-height":"300"}},[n("v-list-item-group",{model:{value:t.selectedLanguage,callback:function(e){t.selectedLanguage=e},expression:"selectedLanguage"}},t._l(t.filteredLanguages,(function(e,a){return n("v-list-item",{key:a,on:{click:function(n){return t.setLanguage(e)}}},[n("v-list-item-title",[t._v(t._s(e))])],1)})),1)],1)],1)],1)],1),n("node-view-content",{staticClass:"notex-code-block__content",class:t.textAlign+" my-2 mr-2",attrs:{id:"notex-code-block",as:"pre"}})],1)])},Bn=[],Mn={name:"CodeBlockWrapper",components:{NodeViewWrapper:We["d"],NodeViewContent:We["c"]},props:{nodeViewProps:We["f"],node:{type:Object,required:!0},selected:{type:Boolean}},data:function(){return{focused:!1,languages:["assembly","bash","brainfuck","c","c#","clojure","coffeescript","cpp","css","delphi","erlang","f#","fortran","go","groovy","haskell","html","java","javascript","kotlin","lua","MATLAB","MIPS","objective-c","pascal","perl","php","powershell","python","r","ruby","rust","sass","scala","scss","shell","SQL","smalltalk","swift","typescript","visual basic"],menu:!1,searchLanguage:""}},methods:{setFocused:function(t){this.focused=t},setLanguage:function(t){this.updateAttributes({language:t}),this.menu=!1}},computed:{textAlign:function(){return"text-".concat(this.node.attrs.textAlign)},filteredLanguages:function(){var t=this;return""===this.searchLanguage?this.languages:this.languages.filter((function(e){return e.toLowerCase().includes(t.searchLanguage.toLowerCase())}))},selectedLanguage:{get:function(){return this.node.attrs.language},set:function(t){}}}},En=Mn,Fn=(n("9dd4"),Object(h["a"])(En,zn,Bn,!1,null,null,null)),Pn=Fn.exports;b()(Fn,{VBtn:O["a"],VCard:V["a"],VCardText:K["c"],VIcon:T["a"],VList:R["a"],VListItem:A["a"],VListItemGroup:ve["a"],VListItemTitle:L["c"],VMenu:$["a"],VTextField:st["a"]});var qn=vn["a"].extend({draggable:!1}).configure({HTMLAttributes:{class:"info--text text-body1 pl-6 pr-2 py-1 ma-0"}}),Wn=hn["a"].extend({draggable:!0,addNodeView:function(){return Object(We["e"])(In)}}),Gn=gn["a"].extend({draggable:!0,addNodeView:function(){return Object(We["e"])(Un)}}),Hn=bn["a"].extend({draggable:!1}),Yn=fn["a"].extend({addOptions:function(){return{levels:[1,2,3]}}}).configure({HTMLAttributes:{class:"pa-2 pl-6"}}),Kn=mn["a"].extend({draggable:!0,addNodeView:function(){return Object(We["e"])(Pn)}}).configure({lowlight:xn["a"],HTMLAttributes:{class:"code"}}),Jn=pn["a"].extend({content:"paragraph*",draggable:!0,addNodeView:function(){return Object(We["e"])($n)}}),Xn=an["a"].extend({content:"heading block*"}),Qn={name:"LandingPage",components:{EditorContent:We["b"]},data:function(){return{val:0,editor:null,code:"",config:{smartMode:!0,virtualKeyboardMode:"manual"},ydoc:null,provider:null}},created:function(){this.ydoc=new Ge["d"],this.provider=new He["a"]({document:this.ydoc,url:"ws://localhost:8000/note",name:"19",broadcast:!1,token:this.rootIdToken}),this.editor=new We["a"]({extensions:this.notexExtensions,autofocus:!0})},computed:Object(o["a"])(Object(o["a"])({},Object(C["c"])(["currentUser","rootIdToken"])),{},{output:function(){return this.editor.getJSON()},notexExtensions:function(){return[Je["a"].configure({history:!1}),Xe["a"],tn["a"],Ze["a"],Qe["a"],Xn,sn,qn,Kn,Wn,Gn,Yn,Jn,Hn,on,dn,nn["a"].configure({className:"elevation-3",mode:"shallowest"}),en["a"].configure({types:["heading","paragraph","rawParagraph"]}),Ke["a"].configure({document:this.ydoc}),Ye["a"].configure({provider:this.provider,user:{name:"".concat(this.currentUser.firstname),color:v()}})]}}),beforeUnmount:function(){this.editor.destroy(),provider.destroy()}},Zn=Qn,ta=(n("d8b4"),n("2a7f")),ea=Object(h["a"])(Zn,Pe,qe,!1,null,null,null),na=ea.exports;b()(ea,{VBtn:O["a"],VCard:V["a"],VContainer:ze["a"],VDivider:S["a"],VIcon:T["a"],VSpacer:B["a"],VToolbar:Qt["a"],VToolbarTitle:ta["a"]});var aa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("User Profile")])},ra=[],sa={},ia=sa,oa=Object(h["a"])(ia,aa,ra,!1,null,null,null),ca=oa.exports,la=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("Workspace")])},ua=[],da={name:"Workspace"},ma=da,va=Object(h["a"])(ma,la,ua,!1,null,null,null),fa=va.exports,pa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.community?n("v-card",{staticClass:"overflow-hidden rounded-0 background",attrs:{elevation:"0"}},[n("v-app-bar",{attrs:{app:"",color:"primary",src:"https://picsum.photos/1920/1080?random",height:50},scopedSlots:t._u([{key:"img",fn:function(e){var a=e.props;return[n("v-img",t._b({attrs:{gradient:"to top right, rgba(79, 79, 79, 0.6), rgba(79, 79, 79, 0.6)"}},"v-img",a,!1))]}},{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"align-with-title":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.tabs,(function(e){return n("v-tab",{key:e.tabName,staticClass:"text-capitalize white--text font-weight-bold"},[t._v(" "+t._s(e.tabName)+" ")])})),1)]},proxy:!0}],null,!1,2809566442)},[t.$vuetify.breakpoint.xs?n("v-app-bar-nav-icon"):t._e(),n("v-card-title",{staticClass:"white--text font-weight-bold"},[t._v(t._s(t.community.name))]),n("v-spacer"),n("v-btn",{staticClass:"ma-2 mr-0",attrs:{text:"",icon:"",color:"white"},on:{click:t.toggleTheme}},[t.$vuetify.theme.dark?n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"white--text mx-3"},"v-icon",r,!1),a),[t._v(" brightness_high ")])]}}],null,!1,1095455098)},[n("span",[t._v("light mode")])]):n("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-icon",t._g(t._b({staticClass:"white--text mx-2",attrs:{size:20}},"v-icon",r,!1),a),[t._v("brightness_medium")])]}}],null,!1,2557369445)},[n("span",[t._v("dark mode")])])],1)],1),n("v-container",{staticClass:"d-flex justify-center",style:{paddingTop:"30px",minHeight:"100%",maxWidth:"1050px"}},[n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.items,(function(t){return n("v-tab-item",{key:t},[n("CommunityNoteList",{attrs:{popular:"Ranking"===t}})],1)})),1)],1)],1):t._e()},ha=[],ga=(n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.notes,(function(t){return n("div",{key:t.noteId,staticClass:"py-4 px-2 background"},[n("CommunityNote",{attrs:{note:t}})],1)})),0)}),ba=[],xa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{staticClass:"community-note-card",attrs:{elevation:"2",width:"900"}},[n("div",{staticClass:"d-flex align-center"},[n("v-card-title",{staticClass:"text-h6 pa-4 py-2 font-weight-medium info--text one-line"},[t._v(" "+t._s(t.note.noteTitle)+" ")]),n("v-spacer"),n("v-menu",{attrs:{"offset-y":"",left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[t.currentUser.userId===t.note.owner.userId?n("v-btn",{attrs:{icon:"",large:""}},[n("v-icon",t._g(t._b({},"v-icon",r,!1),a),[t._v("more_horiz")])],1):t._e()]}}])},[n("v-list",{staticClass:"pa-0",attrs:{dense:""}},[n("v-list-item",{staticClass:"pa-0"},[n("v-btn",{staticClass:"text-capitalize d-flex justify-start info--text",staticStyle:{width:"100%"},attrs:{text:""},on:{click:function(e){return t.removeNote()}}},[n("v-icon",{attrs:{left:""}},[t._v("delete")]),t._v(" Remove Note ")],1)],1)],1)],1)],1),n("v-divider"),n("div",{staticClass:"d-flex direction-column py-2"},[t.$vuetify.breakpoint.xs?t._e():n("v-responsive",{staticClass:"ml-3",attrs:{"aspect-ratio":3/3.4}},[n("v-img",{staticClass:"note-preview grey darken-3 d-flex align-end justify-end rounded"},[n("v-card-text",{staticClass:"pl-2 pb-1 ma-0 mr-2 white--text",staticStyle:{width:"200px"}},[t._v(" Created: "+t._s(t.unixTimeToDate(t.note.createdAt))+" ")])],1)],1),t.note.comments.length>0?n("v-window",{staticClass:"mx-2",style:{width:"100%",height:"100%"},attrs:{"show-arrows":""},scopedSlots:t._u([{key:"prev",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{small:"",icon:"",color:"white"}},"v-btn",r,!1),a),[n("v-icon",[t._v("arrow_left")])],1)]}},{key:"next",fn:function(e){var a=e.on,r=e.attrs;return[n("v-btn",t._g(t._b({attrs:{small:"",icon:"",color:"white"}},"v-btn",r,!1),a),[n("v-icon",[t._v("arrow_right")])],1)]}}],null,!1,3047059268)},t._l(t.note.comments,(function(t,e){return n("v-window-item",{key:"comment-card-"+e},[n("v-card",{attrs:{color:"d-flex justify-center background px-10 py-3",height:226.66}},[n("CommentCard",{attrs:{comment:t}})],1)],1)})),1):n("v-card",{style:{width:"100%"},attrs:{color:"d-flex justify-center align-center flex-column background px-10 py-3 mx-2",height:226.66,elevation:"0"}},[n("v-icon",{attrs:{size:"50"}},[t._v(" comments_disabled ")]),n("span",{staticClass:"subheading"},[t._v(" No comments yet ")])],1)],1),n("v-divider"),n("div",{staticClass:"d-flex justify-space-between align-center"},[n("div",{staticClass:"d-flex align-center"},[n("UserAvatar",{staticClass:"ml-3 mr-2",attrs:{firstname:t.note.owner.firstName,lastname:t.note.owner.lastName,size:35}}),n("v-list-item-content",[n("v-list-item-title",[t._v(" "+t._s(t.note.owner.firstName+" "+t.note.owner.lastName)+" ")]),n("v-list-item-subtitle",[t._v(t._s(t.note.owner.subtitle))])],1)],1),n("v-spacer"),n("div",{staticClass:"d-flex ma-0 px-3 pb-2 pt-2 align-center"},[n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{size:21},on:{click:function(e){return t.incrementLike()}}},[t._v(" thumb_up_off_alt ")])],1),n("span",{staticClass:"subheading mr-3"},[t._v(t._s(t.note.likeCount||0))]),n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{size:23}},[t._v(" visibility ")])],1),n("span",{staticClass:"subheading mr-3"},[t._v(t._s(t.note.viewCunt||0))]),n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{size:20}},[t._v(" insert_comment ")])],1),n("span",{staticClass:"subheading"},[t._v(t._s(t.note.commentCount||0))])],1),n("v-btn",{staticClass:"mx-3",attrs:{color:"primary",elevation:"0"},on:{click:t.openNotebook}},[t._v("Open")])],1)],1)],1)},ya=[],wa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"d-flex flex-column justify-space-between",attrs:{color:t.getRandomColor(),dark:"",width:"100%",elevation:"4"}},[n("div",{staticClass:"d-flex px-3 pt-3 pb-2"},[n("UserAvatar",{attrs:{firstname:"B",lastname:"C",size:40}}),n("v-list-item-content",{staticClass:"ml-2"},[n("v-list-item-title",{staticClass:"font-weight-bold"},[t._v(t._s(t.comment.user.firstName+" "+t.comment.user.lastName))])],1)],1),n("v-card-text",{staticClass:"community-note-comment-content d-inline-block lighten-1 px-3 py-0 text-subtitle-1 font-weight-medium"},[t._v(' "'+t._s(t.comment.content)+'" ')]),n("div",{staticClass:"d-flex ma-0 px-3 pb-2 pt-2 align-center"},[n("v-icon",{staticClass:"mr-1",attrs:{size:18}},[t._v(" favorite ")]),n("span",{staticClass:"subheading mr-4"},[t._v(t._s(t.comment.likeCount||0))])],1)],1)},ka=[],Ca={name:"CommentCard",components:{UserAvatar:k},props:{comment:{type:Object,required:!0}},methods:{getRandomColor:v}},_a=Ca,Ia=(n("ac34"),Object(h["a"])(_a,wa,ka,!1,null,null,null)),Na=Ia.exports;b()(Ia,{VCard:V["a"],VCardText:K["c"],VIcon:T["a"],VListItemContent:L["a"],VListItemTitle:L["c"]});var ja={name:"CommunityNote",components:{CommentCard:Na,UserAvatar:k},props:{note:{type:Object,required:!0}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(C["b"])(["removeNoteFromCommunityById","incrementLikeByNoteId"])),Object(C["d"])(["snackbarInfo","snackbarError"])),{},{unixTimeToDate:m,openNotebook:function(){this.$router.push({name:"workspace",params:{id:this.note.dataId}})},removeNote:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.removeNoteFromCommunityById(t.note.noteId);case 3:t.snackbarInfo("Note removed"),e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0.message),t.snackbarError("Error removing note");case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))()},incrementLike:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.incrementLikeByNoteId(t.note.noteId);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0.message),t.snackbarError("Error incrementing like");case 9:case"end":return e.stop()}}),e,null,[[0,5]])})))()}}),computed:Object(o["a"])({},Object(C["c"])(["currentUser"]))},Oa=ja,Va=(n("b994"),Object(h["a"])(Oa,xa,ya,!1,null,null,null)),Sa=Va.exports;b()(Va,{VBtn:O["a"],VCard:V["a"],VCardText:K["c"],VCardTitle:K["d"],VDivider:S["a"],VIcon:T["a"],VImg:y["a"],VList:R["a"],VListItem:A["a"],VListItemContent:L["a"],VListItemSubtitle:L["b"],VListItemTitle:L["c"],VMenu:$["a"],VResponsive:ye["a"],VSpacer:B["a"],VWindow:Zt["a"],VWindowItem:te["a"]});var Ua={name:"CommunityNoteList",components:{CommunityNote:Sa},props:{popular:{type:Boolean,default:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(C["c"])(["communityNotes","topRankingNotes"])),{},{notes:function(){return this.popular?this.topRankingNotes:this.communityNotes}})},Ta=Ua,Ra=Object(h["a"])(Ta,ga,ba,!1,null,null,null),Aa=Ra.exports,La={name:"Community",components:{CommunityNoteList:Aa},data:function(){return{community:null,tab:0,tabs:[{tabName:"Notebooks"},{tabName:"Top Ranking"},{tabName:"Chat Channels"}],items:["Notebooks","Ranking","Chat"]}},methods:Object(o["a"])(Object(o["a"])({},Object(C["b"])(["initCommunityState","initCommunityNotes","getTopRankingNotes"])),{},{toggleTheme:function(){var t=this.$vuetify.theme.dark;this.$vuetify.theme.dark=!t,this.$store.commit("toggleTheme"),localStorage.setItem("darkTheme",!t)}}),created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.communitiesInitialized){e.next=3;break}return e.next=3,t.initCommunityState();case 3:return n=t.$route.params.id,e.next=6,t.initCommunityNotes(n);case 6:return console.log(n),e.next=9,t.getTopRankingNotes(n);case 9:t.community=t.$store.state.community.communities.find((function(e){return e.communityId===parseInt(t.$route.params.id)}));case 10:case"end":return e.stop()}}),e)})))()},computed:Object(o["a"])({},Object(C["c"])(["communitiesInitialized","communityNotes"]))},Da=La,$a=n("5bc1"),za=n("71a3"),Ba=n("c671"),Ma=n("fe57"),Ea=n("aac8"),Fa=Object(h["a"])(Da,pa,ha,!1,null,null,null),Pa=Fa.exports;b()(Fa,{VAppBar:N["a"],VAppBarNavIcon:$a["a"],VBtn:O["a"],VCard:V["a"],VCardTitle:K["d"],VContainer:ze["a"],VIcon:T["a"],VImg:y["a"],VSpacer:B["a"],VTab:za["a"],VTabItem:Ba["a"],VTabs:Ma["a"],VTabsItems:Ea["a"],VTooltip:M["a"]});var qa=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[t.$vuetify.breakpoint.xs?n("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-top-transition"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("div",{style:{backgroundColor:t.colorOfbackground}},[n("v-icon",{staticClass:"mt-2",attrs:{large:""},on:{click:function(e){t.dialog=!1}}},[t._v("mdi-arrow-left-thick ")])],1),n("div",{staticClass:"d-flex justify-center",class:{light:!this.$vuetify.theme.dark,dark:this.$vuetify.theme.dark}},[n("v-avatar",{attrs:{size:"150"}},[n("v-img",{attrs:{src:"https://cdn.vuetifyjs.com/images/parallax/material2.jpg"}})],1)],1),n("div",{staticClass:"d-flex justify-center"},[n("v-card-title",{staticClass:"mt-3",staticStyle:{"font-size":"45px"}},[t._v(" "+t._s(t.moreInfo.name)+" ")])],1),n("div",{staticClass:"d-flex justify-center"},[n("v-card-text",{staticStyle:{"font-size":"18px"}},[t._v(" "+t._s(t.moreInfo.description)+" ")])],1),n("div",{staticClass:"d-flex justify-center align-center"},[n("v-avatar",{staticClass:"ma-1",attrs:{color:"primary",size:"36"}}),n("v-avatar",{staticClass:"ma-1",attrs:{color:"primary",size:"36"}}),n("v-avatar",{staticClass:"ma-1",attrs:{color:"primary",size:"36"}}),n("v-avatar",{staticClass:"ma-1",attrs:{color:"primary",size:"36"}}),n("v-avatar",{staticClass:"ma-1",attrs:{color:"primary",size:"36"}}),n("span",{staticClass:"ma-1"},[t._v("+999")])],1),n("div",{staticClass:"d-flex justify-center"},[n("v-btn",{attrs:{depressed:"",color:"primary mt-5",large:""}},[t._v("JION")])],1)])],1):n("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":t.$vuetify.breakpoint.smAndDown?600:700,"max-height":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("div",{staticClass:"d-flex flex-no-wrap"},[n("div",{staticClass:"d-flex align-center"},[n("v-avatar",{staticClass:"ma-3 mt-7",attrs:{size:t.$vuetify.breakpoint.smAndDown?150:200}},[n("v-img",{attrs:{src:t.moreInfo.photo}})],1)],1),n("div",[n("v-icon",{staticClass:"float-right ma-2",on:{click:function(e){t.dialog=!1}}},[t._v("mdi-close ")]),n("v-card-title",{staticClass:"mt-3",staticStyle:{"font-size":"45px"}},[t._v(" "+t._s(t.moreInfo.name)+" ")]),n("v-divider"),n("v-card-text",{staticStyle:{"font-size":"16px"}},[t._v(" "+t._s(t.moreInfo.description)+" ")]),n("div",{staticClass:"d-flex align-center mb-3"},[n("v-avatar",{staticClass:"ma-1",attrs:{color:"primary",size:"36"}}),n("v-avatar",{staticClass:"ma-1",attrs:{color:"primary",size:"36"}}),n("v-avatar",{staticClass:"ma-1",attrs:{color:"primary",size:"36"}}),n("span",{staticClass:"ma-1"},[t._v("+999")]),n("v-btn",{style:"margin-left: "+(t.$vuetify.breakpoint.smAndDown?130:200)+"px;",attrs:{depressed:"",color:"primary"}},[t._v("JION")])],1)],1)])])],1),t.items.length&&!t.lose?n("div",{staticClass:"search-list-container mx-16 mt-1",style:{width:t.searchWidth,left:t.searchPositionX,top:t.searchPositionY}},[n("v-row",{attrs:{dense:""}},t._l(t.items,(function(e,a){return n("v-col",{key:a,staticStyle:{"padding-top":"0","padding-bottom":"0"},attrs:{cols:"12"}},[n("v-card",{staticClass:"rounded-0",staticStyle:{height:"100px"},attrs:{color:t.getSearchListColor(a)},on:{click:function(n){return t.getSelectItem(e)},mouseover:function(e){t.index=a},mouseleave:function(e){t.index=-1}}},[n("div",{staticClass:"d-flex"},[n("v-avatar",{staticClass:"ma-3 mr-1",attrs:{size:"80",tile:""}},[n("v-img",{attrs:{contain:"",src:e.photo}})],1),n("div",[n("v-card-title",{staticClass:"text-h6"},[t._v(t._s(e.name))]),n("v-card-subtitle",[n("span",{staticClass:"text-overflow"},[t._v(" "+t._s(e.description)+" ")])])],1)],1)])],1)})),1)],1):t._e(),n("div",{staticClass:"d-flex flex-column justify-center align-center search-background",style:"max-height: "+(t.$vuetify.breakpoint.smAndDown?250:350)+"px;"},[n("h1",{staticClass:"heading ",style:"top: "+(t.$vuetify.breakpoint.smAndDown?90:140)+"px;"},[t._v(" Explore Your World ")]),n("div",{staticClass:"search-bar-container justify-center align-center",style:"width: "+(t.$vuetify.breakpoint.smAndDown?100:70)+"%;"},[n("v-text-field",{ref:"searching",staticClass:"mx-16 mt-16 search-bar",attrs:{loading:t.loading,solo:"","append-icon":"search",label:"Find things you love",flat:"",items:t.items},on:{blur:t.blurFn,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getSearchingResult.apply(null,arguments)}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.inputLoad,expression:"!inputLoad"}],staticClass:"mt-5",staticStyle:{"font-size":"20px","font-weight":"bold"}},[t._v(" "+t._s(t.cardAbout)+" ")]),t.inputLoad?n("div",{staticClass:"d-flex justify-center align-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):n("div",[n("v-row",{attrs:{dense:""}},t._l(t.communities,(function(e){return n("v-col",{key:e.communityId,staticStyle:{padding:"0"},attrs:{col:"12",xs:"12",sm:"6",md:"4",lg:"3",xl:"3"}},[n("communities-card",{staticClass:"ma-3",staticStyle:{"min-width":"150px"},style:"height: "+(t.$vuetify.breakpoint.smAndDown?130:350)+"px;",attrs:{info:e,phone:t.$vuetify.breakpoint.xs},on:{getinfo:t.showMoreInfo}})],1)})),1)],1)],1)},Wa=[],Ga=(n("fb6a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{class:{"mx-3":t.phone},on:{click:t.sendEmit}},[n("div",{class:{"justify-space-between":t.phone,"d-flex":t.phone,"flex-no-wrap":t.phone}},[t.phone?n("v-avatar",{staticClass:"ma-3",attrs:{size:"100",tile:""}},[n("v-img",{staticClass:"white--text align-end",attrs:{src:t.info.photo,height:"200px"}})],1):n("v-img",{staticClass:"white--text align-end",attrs:{src:t.info.photo,gradient:"to bottom, rgba(0,0,0,.1), rgba(0,0,0,.5)",height:"200px"}}),n("div",[n("v-card-title",{domProps:{textContent:t._s(t.info.name)}}),n("v-card-subtitle",[n("span",{staticClass:"overflow"},[t._v(" "+t._s(t.info.description)+" ")])]),n("v-spacer")],1)],1)])}),Ha=[],Ya={props:{info:Object,phone:Boolean},methods:{sendEmit:function(){this.$emit("getinfo",this.info)}}},Ka=Ya,Ja=(n("a2ca"),Object(h["a"])(Ka,Ga,Ha,!1,null,null,null)),Xa=Ja.exports;b()(Ja,{VAvatar:x["a"],VCard:V["a"],VCardSubtitle:K["b"],VCardTitle:K["d"],VImg:y["a"],VSpacer:B["a"]});var Qa={components:{CommunitiesCard:Xa},data:function(){return{moreInfo:{},dialog:!1,inputLoad:!1,cardAbout:"Recommend For You",communities:[{communityId:0,name:"keep",description:"Never range practice mind upon school worry ball. Statement pull hundred important.That production suddenly than husband list. Reality again talk save sit Mrs computer.Paper example single be over. Team show interview window. Never range practice mind upon school worry ball. Statement pull hundred important.That production suddenly than husband list. Reality again talk save sit Mrs computer.Paper example single be over. Team show interview window",createdAt:0x6fef5f31d3a4,photo:"",memberCount:366},{communityId:1,name:"must",description:"Never range practice mind upon school worry ball. Statement pull hundred important.That production suddenly than husband list. Reality again talk save sit Mrs computer.Paper example single be over. Team show interview window.",createdAt:0x6fef5f31d3a4,photo:"",memberCount:366},{communityId:2,name:"behind",description:"Never range practice mind upon school worry ball. Statement pull hundred important.That production suddenly than husband list. Reality again talk save sit Mrs computer.Paper example single be over. Team show interview window.",createdAt:0x6fef5f31d3a4,photo:"",memberCount:366},{communityId:9,name:"south",description:"Never range practice mind upon school worry ball. Statement pull hundred important.That production suddenly than husband list. Reality again talk save sit Mrs computer.Paper example single be over. Team show interview window.",createdAt:0x6fef5f31d3a4,photo:"",memberCount:366}],index:0,lose:!1,input:"",loading:!1,items:[],selected:"",searchWidth:0,searchPositionX:0,searchPositionY:0}},computed:Object(o["a"])(Object(o["a"])({},Object(C["c"])(["searchResult"])),{},{colorOfbackground:function(){return this.$vuetify.theme.dark?"rgb(105, 209, 125)":"rgb(77, 166, 255)"}}),watch:{input:function(t){this.searchResultTest(t),this.querySelections(),this.lose=!1,""==t&&(this.items=[])}},methods:Object(o["a"])(Object(o["a"])({},Object(C["b"])(["getSearchResult"])),{},{searchResultTest:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.getSearchResult(t);case 2:case"end":return n.stop()}}),n)})))()},showMoreInfo:function(t){this.moreInfo=t,this.dialog=!0},getSearchingResult:function(){var t=this;this.inputLoad=!0,this.lose=!0,this.communities=this.items.map((function(t){return t})),setTimeout((function(){t.inputLoad=!1}),1e3)},getSearchListColor:function(t){return this.index==t?"rgba(218, 216, 216, 1)":""},blurFn:function(){var t=this;setTimeout((function(){t.lose=!0}),200)},getSelectItem:function(t){var e=this;this.index=0,this.selected=t.name,this.input=t.name,this.inputLoad=!0,this.communities=[t],this.cardAbout="Searching Result",setTimeout((function(){e.inputLoad=!1}),500)},getSearchStyle:function(){var t=this.$refs.searching.$el.clientWidth,e=this.$refs.searching.$el.offsetLeft,n=this.$refs.searching.$el.offsetTop;this.searchWidth=t+"px",this.searchPositionX=e-64+"px",this.searchPositionY=n+50+"px"},querySelections:function(){var t=this;this.loading=!0,setTimeout((function(){t.items=t.searchResult,t.items.length>10&&(t.items=t.items.slice(0,10)),t.loading=!1}),1e3)}}),mounted:function(){this.getSearchStyle()},created:function(){window.addEventListener("resize",this.getSearchStyle)}},Za=Qa,tr=(n("e44d"),n("490a")),er=Object(h["a"])(Za,qa,Wa,!1,null,null,null),nr=er.exports;b()(er,{VAvatar:x["a"],VBtn:O["a"],VCard:V["a"],VCardSubtitle:K["b"],VCardText:K["c"],VCardTitle:K["d"],VCol:Ie["a"],VContainer:ze["a"],VDialog:_t["a"],VDivider:S["a"],VIcon:T["a"],VImg:y["a"],VProgressCircular:tr["a"],VRow:It["a"],VTextField:st["a"]});var ar,rr,sr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"auth-background fill-height pa-15 justify-center",attrs:{fluid:""}},[n("v-sheet",{attrs:{height:"800",elevation:"10",rounded:"",width:t.hidePicture?450:1600}},[n("v-card",{staticClass:"fill-height d-flex",attrs:{flat:"",tile:"",color:"grey lighten-2"}},[n("v-card",{directives:[{name:"show",rawName:"v-show",value:!t.hidePicture,expression:"!hidePicture"}],staticClass:"fill-height flex-grow-1 overflow-hidden"},[n("div",{staticClass:"fill-height white auth-picture d-flex flex-column justify-center align-center"},[n("div",{staticClass:"d-flex align-center"},[n("v-icon",{attrs:{size:"70",color:"secondary"}},[t._v("dashboard")]),n("h1",{staticClass:"ml-2 info--text special-text-lg"},[t._v("NoteHub")])],1),n("div",{staticClass:"mx-10 text-center info--text special-text-sm",style:"max-width: "+(t.$vuetify.breakpoint.mdAndDown?450:1e3)+"px;"},[t._v(" All-in-one rich-text note taking and sharing platform powered by GPT-3 and Tiptap ")])])]),n("v-card",{staticClass:"pa-0",staticStyle:{width:"450px"},attrs:{flat:"",tile:""}},[n("div",{staticClass:"grey darken-3 grey-bg px-5",style:"padding-top: 35px;"},[n("div",{style:"padding-bottom: 25px; height: 5rem;"},[n("transition",{attrs:{name:"fade",duration:"500"}},[t.hidePicture?n("div",{staticClass:"d-flex justify-center align-center"},[n("v-icon",{attrs:{size:"55",color:"secondary"}},[t._v("dashboard")]),n("h1",{staticClass:"white--text special-text ml-2"},[t._v("NoteHub")])],1):t._e()])],1),n("transition",{attrs:{name:"fade",duration:"500",mode:"out-in"}},[t.loginMode?n("v-card",{key:"loginMode",staticClass:"px-5 py-2",style:"padding-top: "+(t.loginMode,"125px;"),attrs:{height:"380",elevation:"7"}},[n("v-card-title",{staticClass:"justify-center"},[n("h1",{staticClass:"text-h4 font-weight-medium info--text"},[t._v("Login")])]),n("v-divider"),n("v-form",{ref:"loginForm",staticClass:"mt-5"},[n("v-text-field",{attrs:{outlined:"",label:"Email","prepend-inner-icon":"email",type:"email",rules:[t.rules.required,t.rules.emailMatch]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{outlined:"",label:"Password","prepend-inner-icon":"vpn_key","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password",hint:"At least 8 characters",counter:"",rules:[t.rules.required,t.rules.min]},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-btn",{attrs:{width:"100%",color:"primary",height:"40",loading:t.loading},on:{click:t.loginUser}},[t._v(" Login ")])],1),n("div",{staticClass:"d-flex justify-end ma-2 switch",on:{click:t.toggleLogin}},[n("p",[t._v("Create a new account")])])],1):n("v-card",{key:"signupMode",staticClass:"px-5 py-2",attrs:{height:"640",elevation:"7"}},[n("v-card-title",{staticClass:"justify-center"},[n("h1",{staticClass:"text-h4 font-weight-medium info--text"},[t._v("Signup")])]),n("v-divider"),n("v-form",{ref:"signupForm",staticClass:"mt-5"},[n("v-text-field",{attrs:{outlined:"",label:"Email","prepend-inner-icon":"email",type:"email",rules:[t.rules.required,t.rules.emailMatch]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{outlined:"",label:"First Name","prepend-inner-icon":"person",rules:[t.rules.required]},model:{value:t.firstname,callback:function(e){t.firstname=e},expression:"firstname"}}),n("v-text-field",{attrs:{outlined:"",label:"Last Name","prepend-inner-icon":"person",rules:[t.rules.required]},model:{value:t.lastname,callback:function(e){t.lastname=e},expression:"lastname"}}),n("v-text-field",{attrs:{outlined:"",label:"Password","prepend-inner-icon":"vpn_key","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",type:t.showPassword?"text":"password",hint:"At least 8 characters",counter:"",rules:[t.rules.required,t.rules.min]},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-text-field",{attrs:{outlined:"",label:"Confirm Password","prepend-inner-icon":"vpn_key","append-icon":t.showConfirmPassword?"mdi-eye":"mdi-eye-off",type:t.showConfirmPassword?"text":"password",hint:"At least 8 characters",counter:"",rules:[t.rules.required,t.rules.passwordMatch]},on:{"click:append":function(e){t.showConfirmPassword=!t.showConfirmPassword}},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}}),n("v-btn",{attrs:{width:"100%",color:"primary",height:"40",loading:t.loading},on:{click:t.signupUser}},[t._v(" Register ")])],1),n("div",{staticClass:"d-flex justify-end ma-2 switch",on:{click:t.toggleLogin}},[n("p",[t._v("Login to existing account")])])],1)],1)],1)])],1)],1)],1)},ir=[],or=(n("00b4"),{name:"Authenication",data:function(){var t=this;return{loginMode:!0,showPassword:!1,showConfirmPassword:!1,email:"",password:"",confirmPassword:"",firstname:"",lastname:"",rules:{required:function(t){return!!t||"Required."},min:function(t){return!!t&&t.length>=8||"At least 8 characters"},emailMatch:function(t){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)||"You have entered an invalid email address!"},passwordMatch:function(e){return e===t.password||"Both passwords must be the same!"}},loading:!1}},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(C["b"])(["signup","login"])),Object(C["d"])(["snackbarSuccess","snackbarError"])),{},{toggleLogin:function(){this.loginMode=!this.loginMode},loginUser:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$refs.loginForm.validate()){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.prev=3,e.next=6,t.login({email:t.email,password:t.password});case 6:n=e.sent,!0===n?(t.$router.push({name:"dashboard"}),t.snackbarSuccess("Welcome ".concat(t.currentUser.firstname," ").concat(t.currentUser.lastname,"!"))):t.snackbarError(n),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),t.snackbarError("Oops! Something went wrong, please try again!");case 13:t.loading=!1;case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()},signupUser:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.$refs.signupForm.validate()){e.next=2;break}return e.abrupt("return");case 2:return t.loading=!0,e.prev=3,e.next=6,t.signup({email:t.email,password:t.password,firstName:t.firstname,lastName:t.lastname});case 6:n=e.sent,console.log(n),!0===n?(t.$router.push({name:"dashboard"}),t.snackbarSuccess("Welcome ".concat(t.currentUser.firstname," ").concat(t.currentUser.lastname,"!"))):t.snackbarError(n),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),t.snackbarError("Oops! Something went wrong, please try again!");case 14:t.loading=!1;case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))()}}),computed:Object(o["a"])(Object(o["a"])({},Object(C["c"])(["currentUser"])),{},{hidePicture:function(){return this.$vuetify.breakpoint.smAndDown}})}),cr=or,lr=(n("d4bc"),Object(h["a"])(cr,sr,ir,!1,null,null,null)),ur=lr.exports;b()(lr,{VBtn:O["a"],VCard:V["a"],VCardTitle:K["d"],VContainer:ze["a"],VDivider:S["a"],VForm:xe["a"],VIcon:T["a"],VSheet:Yt["a"],VTextField:st["a"]});var dr={},mr=Object(h["a"])(dr,ar,rr,!1,null,null,null),vr=mr.exports,fr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"background",style:{minHeight:"100%"}},[t.loading?n("div",{staticClass:"text-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):n("v-row",{attrs:{dense:""}},t._l(t.users,(function(e,a){return n("v-col",{key:a,attrs:{cols:"6"}},[n("v-card",[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"ma-5 mr-0"},[n("UserAvatar",{attrs:{firstname:e.firstName,lastname:e.lastName,avatarUrl:e.avatarUrl,size:50}})],1),n("div",[n("v-card-title",{staticClass:"text-h5 ma-0"},[t._v(t._s(e.firstName)+" "+t._s(e.lastName))]),n("v-card-subtitle",{staticClass:"text-h7",domProps:{textContent:t._s(e.subtitle)}}),n("v-icon",{staticClass:"ml-3",attrs:{left:"",size:"20"}},[t._v("mdi-thumb-up")]),n("span",[t._v(t._s(e.likeCount))]),n("v-icon",{staticClass:"ml-6",attrs:{left:"",size:"20"}},[t._v("mdi-eye")]),n("span",[t._v(t._s(e.commentCount))]),n("v-card-actions",[n("v-btn",{staticClass:"my-2",attrs:{block:"",outlined:"",small:""}},[t._v(" Follow ")])],1)],1)])])],1)})),1)],1)},pr=[],hr={data:function(){return{loading:!0,users:[]}},components:{UserAvatar:k},computed:Object(o["a"])({},Object(C["c"])(["returnPopularUser"])),methods:Object(o["a"])(Object(o["a"])({},Object(C["b"])(["getPopularUser"])),{},{fetchData:function(){var t=this;this.getPopularUser(),setTimeout((function(){t.loading=!1,t.users=t.returnPopularUser}),1e3)}}),created:function(){this.fetchData()}},gr=hr,br=Object(h["a"])(gr,fr,pr,!1,null,null,null),xr=br.exports;b()(br,{VBtn:O["a"],VCard:V["a"],VCardActions:K["a"],VCardSubtitle:K["b"],VCardTitle:K["d"],VCol:Ie["a"],VContainer:ze["a"],VIcon:T["a"],VProgressCircular:tr["a"],VRow:It["a"]});var yr=n("2a74"),wr=n("1b6a");r["a"].use(C["a"]);var kr=new C["a"].Store({modules:yr["default"],state:{darkTheme:localStorage.getItem("darkTheme")||!1,snackbarShow:!1,snackbarMessage:"",snackbarColor:""},getters:{rootUser:function(t){return t.auth.currentUser},rootIdToken:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.auth.currentUser.user.getIdToken();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},mutations:{toggleTheme:function(t){t.darkTheme=!t.darkTheme},snackbarInfo:function(t,e){t.snackbarMessage=e,t.snackbarColor="primary",t.snackbarShow=!0},snackbarSuccess:function(t,e){t.snackbarMessage=e,t.snackbarColor="success",t.snackbarShow=!0},snackbarError:function(t,e){t.snackbarMessage=e,t.snackbarColor="error",t.snackbarShow=!0},setSnackbarShow:function(t,e){t.snackbarShow=e}},actions:{rootStateReset:function(t){var e=t.commit;e("resetNotes",null,{root:!0}),e("resetCommunities",null,{root:!0}),e("resetCommunityNotes",null,{root:!0})},searchUserByKeyword:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,r,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.rootGetters,n.next=3,a.rootIdToken;case 3:return r=n.sent,s={headers:{authorization:"Bearer ".concat(r)}},n.next=7,wr["a"].post("user/search-user-by-keyword",{keyword:e},s);case 7:return i=n.sent,n.abrupt("return",i.data);case 9:case"end":return n.stop()}}),n)})))()}}});r["a"].use(Lt["a"]);var Cr=[{name:"home",path:"/",meta:{navbar:"NavigationBar"},component:na},{name:"dashboard",path:"/dashboard",meta:{requireAuth:!0,navbar:"NavigationBar"},component:Fe},{name:"profile",path:"/profile",meta:{requireAuth:!0,navbar:"NavigationBar"},component:ca},{name:"workspace",path:"/workspace/:id",meta:{requireAuth:!0},component:fa},{name:"community",path:"/community/:id",meta:{requireAuth:!0,navbar:"CommunityBar"},component:Pa},{name:"communities",path:"/communities",meta:{requireAuth:!0,navbar:"NavigationBar"},component:nr},{name:"ranking",path:"/ranking",meta:{requireAuth:!0,navbar:"NavigationBar"},component:xr},{name:"auth",path:"/auth",meta:{navbar:null},component:ur},{name:"not-found",path:"/not-found",component:vr},{path:"/:catchAll(.*)*",redirect:{name:"not-found"}}],_r=new Lt["a"]({mode:"history",base:"/",routes:Cr,scrollBehavior:function(t){if(t.hash)return{selector:t.hash,behavior:"smooth"}}});_r.beforeEach((function(t,e,n){return t.matched.some((function(t){return t.meta.requireAuth}))?kr.state.auth.isAuthenticated?n():n({name:"auth"}):n()}));var Ir=_r,Nr=n("f309"),jr=n("fcf4");r["a"].use(Nr["a"],{});var Or,Vr=new Nr["a"]({iconfont:"md",breakpoint:{thresholds:{xl:1280}},theme:{options:{customProperties:!0},themes:{light:{primary:"#1e90ff",secondary:"#ff7f50",error:"#FF5252",info:"#4F4F4F",success:"#2ed573",warning:"#FFC107",appbar:"#2c2c2c",drawer:"#1e1e1e",background:"#f3f3f3",card:jr["a"].white,cardtext:jr["a"].grey,code:"#1e1e1e",notexBackground:"#f3f3f3"},dark:{primary:"#2ed573",secondary:"#ffa502",error:"#FF5252",info:jr["a"].white,success:"#2ed573",warning:"#FFC107",appbar:"#2c2c2c",drawer:"#1e1e1e",background:"#292929",card:"#2f2f2f",cardtext:jr["a"].white,code:"#1e1e1e",notexBackground:"#292929"}}}}),Sr=n("bc3a"),Ur=n.n(Sr),Tr=n("b79f"),Rr=n("323e"),Ar=n.n(Rr),Lr=function(t){t.beforeEach((function(t,e,n){Ar.a.start(),n()})),t.afterEach(Ar.a.done)};n("a5d8");r["a"].prototype.$axios=Ur.a,r["a"].config.productionTip=!1,Lr(Ir),Tr["a"].onAuthStateChanged(Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,kr.dispatch("initialLogin");case 2:Or||(Or=new r["a"]({router:Ir,store:kr,vuetify:Vr,render:function(t){return t(At)}}).$mount("#app"));case 3:case"end":return t.stop()}}),t)}))))},6713:function(t,e,n){},"69c0":function(t,e,n){},"6f62":function(t,e,n){},"6f93":function(t,e,n){"use strict";n.r(e);var a=n("1da1"),r=(n("96cf"),n("1b6a"));e["default"]={state:{searchResult:[]},getters:{searchResult:function(t){return t.searchResult}},actions:{getSearchResult:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,s,i,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=t.state,s=t.rootGetters,""==e){n.next=19;break}return n.prev=2,n.next=5,s.rootIdToken;case 5:return i=n.sent,o={headers:{authorization:"Bearer ".concat(i)}},n.next=9,r["a"].post("community/search-community-by-name/",{name:e},o);case 9:c=n.sent,a.searchResult=c.data,console.log(a.searchResult),n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](2),console.log("there is an error: "+n.t0);case 17:n.next=20;break;case 19:a.searchResult=[];case 20:case"end":return n.stop()}}),n,null,[[2,14]])})))()}}}},"6ff1":function(t,e,n){},"74c5":function(t,e,n){},"79c1":function(t,e,n){"use strict";n.r(e);var a=n("1da1"),r=(n("96cf"),n("1b6a"));e["default"]={state:{popularUser:[]},getters:{returnPopularUser:function(t){return t.popularUser}},actions:{getPopularUser:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,s,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,a=t.rootGetters,e.prev=1,e.next=4,a.rootIdToken;case 4:return s=e.sent,i={headers:{authorization:"Bearer ".concat(s)}},e.next=8,r["a"].get("user/get-top-10-users/",i);case 8:o=e.sent,n.popularUser=o.data,console.log(n.popularUser),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),console.log("there is an error: "+e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))()}}}},"844a":function(t,e,n){},"8f80":function(t,e,n){},"9dd4":function(t,e,n){"use strict";n("69c0")},a2ca:function(t,e,n){"use strict";n("6ff1")},a9c3:function(t,e,n){"use strict";n("74c5")},aa21:function(t,e,n){"use strict";n("fda1")},ac34:function(t,e,n){"use strict";n("8f80")},b69f:function(t,e,n){"use strict";n("12e4")},b79f:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return d}));var a=n("260b"),r=n("ea7b"),s=n("e71f"),i=n("588e");n.d(e,"c",(function(){return i["c"]}));var o={apiKey:"AIzaSyCE8H066cgN969UuRrI02FxMYlwCK1TWQg",authDomain:"notehub-326303.firebaseapp.com",projectId:"notehub-326303",storageBucket:"notehub-326303.appspot.com",messagingSenderId:"121246877159",appId:"1:121246877159:web:70bf417836e3c18f2f2942"},c=Object(a["a"])(o),l=Object(r["b"])(),u=Object(s["c"])(),d=Object(i["b"])(c)},b994:function(t,e,n){"use strict";n("032c")},bb2b:function(t,e,n){},beef:function(t,e,n){},c392:function(t,e,n){"use strict";n("6f62")},c652:function(t,e,n){},c7d4:function(t,e,n){"use strict";n.r(e);var a=n("1da1"),r=(n("99af"),n("96cf"),n("ea7b")),s=n("1b6a");e["default"]={state:{isAuthenticated:!1,currentUser:null},getters:{currentUser:function(t){return t.currentUser},getIdToken:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.currentUser){t.next=4;break}t.t0=null,t.next=7;break;case 4:return t.next=6,e.currentUser.getIdToken();case 6:t.t0=t.sent;case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),getFullName:function(t){return"".concat(t.currentUser.firstname," ").concat(t.currentUser.firstname)}},mutations:{toggleAuth:function(t,e){t.isAuthenticated=e},setUser:function(t,e){t.currentUser=e}},actions:{signup:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,i,o,c,l,u,d,m,v;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,i=e.email,o=e.password,c=e.firstName,l=e.lastName,n.prev=2,n.next=5,Object(r["a"])(Object(r["b"])(),i,o);case 5:return u=n.sent,n.next=8,u.user.getIdToken();case 8:return d=n.sent,n.next=11,s["a"].post("user/insert-user/",{email:i,firstName:c,lastName:l},{headers:{authorization:"Bearer ".concat(d)}});case 11:return m=n.sent,v=m.data.userId,a("setUser",{userId:v,firstname:c,lastname:l,email:i,avatarUrl:null,subtitle:"New User",user:u.user}),a("toggleAuth",!0),n.abrupt("return",!0);case 18:return n.prev=18,n.t0=n["catch"](2),n.abrupt("return",n.t0.message);case 21:case"end":return n.stop()}}),n,null,[[2,18]])})))()},login:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,i,o,c,l,u,d,m,v,f,p,h;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,i=e.email,o=e.password,n.prev=2,n.next=5,Object(r["c"])(Object(r["b"])(),i,o);case 5:return c=n.sent,n.next=8,c.user.getIdToken();case 8:return l=n.sent,n.next=11,s["a"].get("user/get-user-by-token/",{headers:{authorization:"Bearer ".concat(l)}});case 11:return u=n.sent,d=u.data,m=d.userId,v=d.firstName,f=d.lastName,p=d.avatarUrl,h=d.subtitle,a("setUser",{userId:m,firstname:v,lastname:f,email:i,avatarUrl:p,subtitle:h,user:c.user}),a("toggleAuth",!0),n.abrupt("return",!0);case 18:return n.prev=18,n.t0=n["catch"](2),n.abrupt("return",n.t0.message);case 21:case"end":return n.stop()}}),n,null,[[2,18]])})))()},logout:function(t,e){return Object(a["a"])(regeneratorRuntime.mark((function n(){var a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.commit,s=e.router,i=e.route,n.next=4,Object(r["d"])(Object(r["b"])());case 4:a("toggleAuth",!1),a("setUser",null),i.meta.requireAuth&&s.push({name:"auth"});case 7:case"end":return n.stop()}}),n)})))()},initialLogin:function(t){return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,a,i,o,c,l,u,d,m,v,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.commit,a=t.state,!a.currentUser){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,i=Object(r["b"])().currentUser,e.next=7,i.getIdToken();case 7:if(o=e.sent,!i){e.next=16;break}return e.next=11,s["a"].get("user/get-user-by-token/",{headers:{authorization:"Bearer ".concat(o)}});case 11:c=e.sent,l=c.data,u=l.userId,d=l.firstName,m=l.lastName,v=l.avatarUrl,f=l.subtitle,p=l.email,n("setUser",{userId:u,firstname:d,lastname:m,email:p,avatarUrl:v,subtitle:f,user:i}),console.log(a.currentUser),n("toggleAuth",!0);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](3),console.log(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[3,18]])})))()}}}},cc39:function(t,e,n){"use strict";n("1368")},d307:function(t,e,n){var a={"./auth.js":"c7d4","./communities.js":"6f93","./community.js":"47d1","./community_notes.js":"3f80","./index.js":"2a74","./note.js":"34b8","./ranking.js":"79c1"};function r(t){var e=s(t);return n(e)}function s(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=s,t.exports=r,r.id="d307"},d4bc:function(t,e,n){"use strict";n("f59f")},d78a:function(t,e,n){"use strict";n("bb2b")},d8b4:function(t,e,n){"use strict";n("6713")},e44d:function(t,e,n){"use strict";n("c652")},f59f:function(t,e,n){},f66d:function(t,e,n){"use strict";n("f754")},f754:function(t,e,n){},f765:function(t,e,n){"use strict";n("00c5")},f91f:function(t,e,n){},fda1:function(t,e,n){}});
//# sourceMappingURL=app.0df87a4f.js.map